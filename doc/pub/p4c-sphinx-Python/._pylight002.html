
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The first few steps</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>

        <script src="http://sagecell.sagemath.org/static/jquery.min.js"></script>
        <script src="http://sagecell.sagemath.org/static/embedded_sagecell.js"></script>

        <script>sagecell.makeSagecell({inputLocation: ".sage"});</script>

        <style type="text/css">
                .sagecell .CodeMirror-scroll {
                        overflow-y: hidden;
                        overflow-x: auto;
                }
                .sagecell .CodeMirror {
                        height: auto;
                }
        </style>

    
    <link rel="top" title="Programming for Computations (Python version)" href="index.html" />
    <link rel="next" title="Basic constructions" href="._pylight003.html" />
    <link rel="prev" title="Preface" href="._pylight001.html" />
 
  
       <style type="text/css">
         div.admonition {
           background-color: whiteSmoke;
           border: 1px solid #bababa;
         }
       </style>
      </head>
    
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="._pylight003.html" title="Basic constructions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="._pylight001.html" title="Preface"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Programming for Computations (Python version)</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-first-few-steps">
<span id="st-thefirstfewsteps"></span><h1>The first few steps<a class="headerlink" href="#the-first-few-steps" title="Permalink to this headline">¶</a></h1>
<div class="figure">
<a class="reference internal image-reference" href="_images/comic_plot.png"><img alt="_images/comic_plot.png" src="_images/comic_plot.png" style="width: 700px;" /></a>
</div>
<div class="section" id="what-is-a-program-and-what-is-programming">
<h2>What is a program? And what is programming?<a class="headerlink" href="#what-is-a-program-and-what-is-programming" title="Permalink to this headline">¶</a></h2>
<p id="index-0">Today, most people are experienced with computer programs, typically
programs such as Word, Excel, PowerPoint, Internet Explorer, and
Photoshop. The interaction with such programs is usually quite simple
and intuitive: you click on buttons, pull down menus and select
operations, drag visual elements into locations, and so forth. The possible
operations you can do in these programs can be combined in seemingly
an infinite number of ways, only limited by your creativity and
imagination.</p>
<p>Nevertheless, programs often make us frustrated when they cannot do
what we wish. One typical situation might be the following. Say you
have some measurements from a device, and the data are
stored in a file with a specific format.  You may want to analyze
these data in Excel and make some graphics out of it. However, assume
there is no menu in Excel that allows you to import data in this
specific format. Excel can work with many different data formats,
but not this one. You start searching for alternatives to Excel that
can do the same <em>and</em> read this type of data files. Maybe you cannot
find any ready-made program directly applicable. You have reached the
point where knowing how to write programs on your own would be of
great help to you! With some programming skills, you may write your
own little program which can translate one data format to
another. With that little piece of tailored code, your data may be
read and analyzed, perhaps in Excel, or perhaps by a new program
tailored to the computations that the measurement data demand.</p>
<span class="target" id="index-1"></span><span class="target" id="index-2"></span><p id="index-3">The real power of computers can only be utilized if you can program
them. By programming you can get the computer to do (most often!)
exactly what you want. Programming consists of writing a set of
instructions in a very specialized language that has adopted words and
expressions from English. Such languages are known as <em>programming</em> or
<em>computer languages</em>. The set of instructions is given to a program
which can translate the meaning of the instructions into real actions
inside the computer.</p>
<p>The purpose of this book is to teach you to write such instructions
dedicated to solve mathematical and engineering problems by
fundamental numerical methods.</p>
<span class="target" id="index-4"></span><span class="target" id="index-5"></span><span class="target" id="index-6"></span><span class="target" id="index-7"></span><span class="target" id="index-8"></span><span class="target" id="index-9"></span><span class="target" id="index-10"></span><span class="target" id="index-11"></span><span class="target" id="index-12"></span><span class="target" id="index-13"></span><p id="index-14">There are numerous computer languages for different purposes.  Within
the engineering area, the most widely used computer languages are
Python, MATLAB, Octave, Fortran, C, C++, and to some extent Maple, and
Mathematica.  How you write the instructions (i.e. the <em>syntax</em>)
differs between the languages. Let us use an analogy.</p>
<p>Assume you are an international kind of person, having friends abroad
in England, Russia and China. They want to try your favorite
cake. What can you do? Well, you may write down the recipe in those
three languages and send them over. Now, if you have been able to think
correctly when writing down the recipe, and you have written the
explanations according to the rules in each language, each of your
friends will produce the same cake. Your recipe is the &#8220;computer
program&#8221;, while English, Russian and Chinese represent the &#8220;computer
languages&#8221; with their own rules of how to write things. The end
product, though, is still the same cake. Note that you may
unintentionally introduce errors in your &#8220;recipe&#8221;. Depending on the
error, this may cause &#8220;baking execution&#8221; to stop, or perhaps produce
the wrong cake. In your computer program, the errors you introduce are
called bugs (yes, small insects! ...for historical reasons), and the
process of fixing them is called debugging. When you try to run your
program that contains errors, you usually get warnings or error
messages. However, the response you get depends on the error and the
programming language. You may even get no response, but simply the
wrong &#8220;cake&#8221;. Note that the rules of a programming language have to be
followed very strictly. This differs from languages like English etc.,
where the meaning might be understood even with spelling errors and
&#8220;slang&#8221; included.</p>
<p>This book comes in two versions, one that is based on Python, and one
based on Matlab. Both Python and Matlab represent excellent
programming environments for scientific and engineering tasks. The
version you are reading now, is the Python version.</p>
<p>Some of Python&#8217;s strong properties deserve mention here: Many
global functions can be placed in only <em>one</em> file, functions are
straightforwardly transferred as arguments to other functions, there
is good support for interfacing C, C++ and Fortran code (i.e., a
Python program may use code written in other languages), and functions
explicitly written for scalar input often work fine (without
modification) also with vector input. Another important thing, is that
Python is available for <em>free</em>. It can be downloaded from the Internet
and will run on most platforms.</p>
<p>Readers who want to expand their scientific programming skills beyond
the introductory level of the present exposition, are encouraged to
study the book <em>A Primer on Scientific Programming with Python</em> <a class="reference internal" href="._pylight009.html#ref18" id="id1">[Ref18]</a>.
This comprehensive book is
as suitable for beginners as for professional programmers, and teaches
the art of programming through a huge collection of dedicated
examples. This book is considered the primary reference, and a
natural extension, of the programming matters in the present book.</p>
<div class="admonition-some-computer-science-terms admonition" id="index-15">
<p class="first admonition-title">Some computer science terms</p>
<p>Note that, quite often, the terms <em>script</em> and <em>scripting</em> are used as
synonyms for program and programming, respectively.</p>
<p>The inventor of the Perl programming language, Larry Wall, tried
to explain the difference between script and program in a humorous way
(from <a class="reference external" href="http://www.perl.com/pub/2007/12/06/soto-11.html">perl.com</a>):
<em>Suppose you went back to `Ada Lovelace &lt;http://en.wikipedia.org/wiki/Ada_Lovelace&gt;`__ and asked her the difference between a script and a program. She&#8217;d probably look at you funny, then say something like: Well, a script is what you give the actors, but a program is what you give the audience. That Ada was one sharp lady...
Since her time, we seem to have gotten a bit more confused about what we mean when we say scripting. It confuses even me, and I&#8217;m supposed to be one of the experts.</em></p>
<span class="target" id="index-16"></span><span class="target" id="index-17"></span><span class="target" id="index-18"></span><span class="target" id="index-19"></span><span class="target" id="index-20"></span><p id="index-21">There are many other widely used computer science terms to pick up. Writing
a program (or script or code) is often expressed as
<em>implementing</em> the program. <em>Executing</em> a program means running the program.
An <em>algorithm</em> is a recipe for how to construct a program. A <em>bug</em> is
an error in a program, and the art of tracking down and
removing bugs is called <em>debugging</em>.</p>
<p class="last"><em>Simulating</em> or <em>simulation</em> refers to using a program to mimic processes
in the real world, often through solving differential equations that
govern the physics of the processes.</p>
</div>
</div>
<div class="section" id="a-python-program-with-variables">
<span id="st-ex1"></span><h2>A Python program with variables<a class="headerlink" href="#a-python-program-with-variables" title="Permalink to this headline">¶</a></h2>
<p id="index-22">Our first example regards programming a mathematical model that predicts the position of a
ball thrown up in the air. From Newton&#8217;s 2nd
law, and by assuming negligible air resistance, one can derive a
mathematical model that predicts the vertical position <span class="math">\(y\)</span> of the ball
at time <span class="math">\(t\)</span>. From the model one gets the formula</p>
<div class="math">
\[y = v_0 t - 0.5gt^2  ,\]</div>
<p>where <span class="math">\(v_0\)</span> is the initial upwards velocity and <span class="math">\(g\)</span> is the
acceleration of gravity, for which <span class="math">\(9.81\hbox{ ms}^{-2}\)</span> is a
reasonable value (even if it depends on things like location on the
earth). With this formula at hand, and when <span class="math">\(v_0\)</span> is known, you may
plug in a value for time and get out the corresponding height.</p>
<div class="section" id="the-program">
<h3>The program<a class="headerlink" href="#the-program" title="Permalink to this headline">¶</a></h3>
<p id="index-23">Let us next look at a Python program for evaluating this simple formula.
Assume the program is contained as text in a file named
<code class="docutils literal"><span class="pre">ball.py</span></code>. The text looks as follows (file
<a class="reference external" href="https://github.com/hplgit/prog4comp/tree/master/src/py/ball.py">ball.py</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Program for computing the height of a ball in vertical motion</span>

<span class="n">v0</span> <span class="o">=</span> <span class="mi">5</span>             <span class="c"># Initial velocity</span>
<span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span>           <span class="c"># Acceleration of gravity</span>
<span class="n">t</span> <span class="o">=</span> <span class="mf">0.6</span>            <span class="c"># Time</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">v0</span><span class="o">*</span><span class="n">t</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">g</span><span class="o">*</span><span class="n">t</span><span class="o">**</span><span class="mi">2</span>        <span class="c"># Vertical position</span>

<span class="k">print</span> <span class="n">y</span>
</pre></div>
</div>
</div>
<div class="section" id="dissection-of-the-program">
<h3>Dissection of the program<a class="headerlink" href="#dissection-of-the-program" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-24"></span><span class="target" id="index-25"></span><span class="target" id="index-26"></span><span class="target" id="index-27"></span><span class="target" id="index-28"></span><p id="index-29">A computer program is plain text, as here in the file <code class="docutils literal"><span class="pre">ball.py</span></code>, which
contains instructions to the computer. Humans can read the code
and understand what the program is capable of doing,
but the program itself does not
trigger any actions on a computer before another program, the Python
interpreter, reads the program text and translates this text into
specific actions.</p>
<div class="admonition-you-must-learn-to-play-the-role-of-a-computer admonition">
<p class="first admonition-title">You must learn to play the role of a computer</p>
<p class="last">Although Python is responsible for reading and understanding your
program, it is of fundamental importance that you fully understand the
program yourself. You have to know the implication of every
instruction in the program and be able to figure out the consequences
of the instructions.  In other words, you must be able to play the role of a
computer. The reason for this strong demand of knowledge
is that errors unavoidably, and quite often, will be committed in the
program text, and to track down these errors, you have to simulate what the computer
does with the program. Next, we shall explain all the text in
<code class="docutils literal"><span class="pre">ball.py</span></code> in full detail.</p>
</div>
<p>When you run your program in Python, it will interpret the text in your file line by line, from the
top, reading each line from left to right. The first line it reads is</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Program for computing the height of a ball in vertical motion.</span>
</pre></div>
</div>
<p>This line is what we call a <em>comment</em>. That is, the line is not meant
for Python to read and execute, but rather for a human that reads the
code and tries to understand what is going on. Therefore, one rule in
Python says that whenever Python encounters the sign <code class="docutils literal"><span class="pre">#</span></code>
it takes the rest of the line as a comment. Python then simply skips
reading the rest of the line and jumps to the next line. In the code,
you see several such comments and probably realize that they make it
easier for you to understand (or guess) what is meant with the
code. In simple cases, comments are probably not much needed, but
will soon be justified as the level of complexity steps up.</p>
<p>The next line read by Python is</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">v0</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c"># Initial velocity</span>
</pre></div>
</div>
<span class="target" id="index-30"></span><p id="index-31">According to its rules, Python will now create a <em>variable</em> with the
name <code class="docutils literal"><span class="pre">v0</span></code> and set (the value of) that variable equal to 5. We say that
5 is <em>assigned</em> to <code class="docutils literal"><span class="pre">v0</span></code>. This means that whenever Python reads <code class="docutils literal"><span class="pre">v0</span></code>
hereafter, it plugs in 5 instead of the name <code class="docutils literal"><span class="pre">v0</span></code>, since it knows that
<code class="docutils literal"><span class="pre">v0</span></code> has the value 5. You may think of <code class="docutils literal"><span class="pre">v0</span></code> as a variable <span class="math">\(v_0\)</span>
in mathematics. The next two lines</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span>  <span class="c"># Acceleration of gravity</span>
<span class="n">t</span> <span class="o">=</span> <span class="mf">0.6</span>   <span class="c"># Time</span>
</pre></div>
</div>
<p>are of the same kind, so having read them too, Python knows of three
variables (<code class="docutils literal"><span class="pre">v0</span></code>, <code class="docutils literal"><span class="pre">g</span></code>, <code class="docutils literal"><span class="pre">t</span></code>) and their values. These variables are then
used by Python when it reads the next line, the actual &#8220;formula&#8221;,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">y</span> <span class="o">=</span> <span class="n">v0</span><span class="o">*</span><span class="n">t</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">g</span><span class="o">*</span><span class="n">t</span><span class="o">**</span><span class="mi">2</span>           <span class="c"># Vertical position</span>
</pre></div>
</div>
<p>Again, according to its rules, Python interprets <code class="docutils literal"><span class="pre">*</span></code> as
multiplication, <code class="docutils literal"><span class="pre">-</span></code> as minus and <code class="docutils literal"><span class="pre">**</span></code>
as exponent (let us also add
here that, not surprisingly, <code class="docutils literal"><span class="pre">+</span></code> and <code class="docutils literal"><span class="pre">/</span></code> would have been understood as
addition and division, if such signs had been present in the
expression). Having read the line, Python performs the mathematics
on the right-hand side,
and then assigns the result (in this case the number <span class="math">\(1.2342\)</span>) to the
variable <code class="docutils literal"><span class="pre">y</span></code>.
Finally, Python reads</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">y</span>
</pre></div>
</div>
<p>This makes Python print the value of <code class="docutils literal"><span class="pre">y</span></code> out in that window on the
screen where you started the program.  When <code class="docutils literal"><span class="pre">ball.py</span></code> is run, the
number <span class="math">\(1.2342\)</span> appears on the screen.</p>
<p>In the code above, you see several blank lines too. These are simply
skipped by Python and you may use as many as you want to make a nice
and readable layout of the code.</p>
</div>
<div class="section" id="why-not-just-use-a-pocket-calculator">
<h3>Why not just use a pocket calculator?<a class="headerlink" href="#why-not-just-use-a-pocket-calculator" title="Permalink to this headline">¶</a></h3>
<p id="index-32">Certainly, finding the answer as done by the program above could
easily have been done with a pocket calculator. No objections to that
and no programming would have been needed. However, what if you would
like to have the position of the ball for every milli-second of the
flight? All that punching on the calculator would have taken you
something like four hours!  If you know how to program, however, you
could modify the code above slightly, using a minute or two of
writing, and easily get all the positions computed in one go within a
second.  A much stronger argument, however, is that mathematical
models from real life are often complicated and comprehensive.  The
pocket calculator cannot cope with such problems, even not the
programmable ones, because their computational power and their
programming tools are far too weak compared to what a real computer can offer.</p>
</div>
<div class="section" id="the-importance-of-using-a-text-editor-to-write-programs">
<h3>The importance of using a text editor to write programs<a class="headerlink" href="#the-importance-of-using-a-text-editor-to-write-programs" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-33"></span><span class="target" id="index-34"></span><span class="target" id="index-35"></span><span class="target" id="index-36"></span><span class="target" id="index-37"></span><p id="index-38">When Python interprets some code in a file, it is concerned with
every character in the file, exactly as it was typed in.
This makes it troublesome to write
the code into a file with word processors like, e.g., Microsoft Word,
since such a program will insert extra characters, invisible to us, with
information on how to format the text (e.g., the font size and type).
Such extra information is necessary for the text to be nicely
formatted for the human eye. Python, however, will be much annoyed by
the extra characters in the file inserted by a word processor.
Therefore, it is fundamental that you write your program in a
<em>text editor</em> where what you type on the keyboard is <em>exactly</em> the
characters that appear in the file and that Python will later read.
There are many text editors around. Some are stand-alone programs like
Emacs, Vim, Gedit, Notepad++, and TextWrangler.</p>
<p id="index-39">Others are integrated in graphical development environments for
Python, such as Spyder. This book will primarily refer to Spyder
and its text editor.</p>
</div>
<div class="section" id="installation-of-python">
<h3>Installation of Python<a class="headerlink" href="#installation-of-python" title="Permalink to this headline">¶</a></h3>
<p id="index-40">You will need access  to Python and several add-on
packages for doing mathematical computations and display graphics.
An obvious choice is to install
a Python environment for scientific computing on your machine.
Alternatively, you can use cloud services for running Python,
or you can remote login on a computer system at a school or university.
Available and recommended techniques for getting access to Python
and the needed packages are documented in
Appendix <a class="reference internal" href="._pylight008.html#app-accesspy"><span class="std std-ref">Appendix: Getting access to Python</span></a>.</p>
<p>The quickest way to get started with a rich Python installation for
this book on your Windows or Mac computer, is to
install <a class="reference external" href="http://continuum.io/downloads">Anaconda</a> (both Python
(we recommend version 2.7) and Spyder come with it).</p>
</div>
<div class="section" id="write-and-run-your-first-program">
<h3>Write and run your first program<a class="headerlink" href="#write-and-run-your-first-program" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-41"></span><span class="target" id="index-42"></span><span class="target" id="index-43"></span><span class="target" id="index-44"></span><p id="index-45">Reading <em>only</em> does not teach you computer programming: you have to
program yourself and practice heavily before you master mathematical
problem solving via programming. Therefore, it is crucial at this stage that you
write and run a Python program. We just went through the program <code class="docutils literal"><span class="pre">ball.py</span></code>
above, so let us next write and run that code.</p>
<p>But first a warning: there are many things that must come
together in the right way for <code class="docutils literal"><span class="pre">ball.py</span></code> to run correctly on
your computer. There might
be problems with your Python installation, with your writing of the
program (it is very easy to introduce errors!),
or with the location of the file, just to mention some of the
most common difficulties for beginners. Fortunately, such problems are
solvable, and if you do not understand how to fix the
problem, ask somebody. Typically, once you are beyond these common
start-up problems, you can move on to learn
programming and how programs can do a lot of otherwise complicated
mathematics for you.</p>
<p>We describe the first steps using the Spyder graphical user interface (GUI),
but you can equally well use a standard text editor for writing the program
and a terminal window (<em>Terminal</em> on Mac, <em>Power Shell</em> on Windows) for
running the program.
Start up Spyder and type in each line
of the program <code class="docutils literal"><span class="pre">ball.py</span></code> shown earlier. Then run the program.
More detailed descriptions of operating Spyder are found in
Appendix <a class="reference internal" href="._pylight008.html#sec-accesspy-writerun"><span class="std std-ref">How to write and run a Python program</span></a>.</p>
<p>If you have had the necessary luck to get everything right,
you should now get the number <span class="math">\(1.2342\)</span> out in the
rightmost lower window in the Spyder GUI.
If so, congratulations! You have just executed your
first self-written computer program in Python, and you are ready to go
on studying this book!
You may like to save the program before moving on (<code class="docutils literal"><span class="pre">File</span></code>, <code class="docutils literal"><span class="pre">save</span> <span class="pre">as</span></code>).</p>
</div>
</div>
<div class="section" id="a-python-program-with-a-library-function">
<span id="st-ex2"></span><h2>A Python program with a library function<a class="headerlink" href="#a-python-program-with-a-library-function" title="Permalink to this headline">¶</a></h2>
<p>Imagine you stand on a distance, say <span class="math">\(10\)</span> m away, watching someone
throwing a ball upwards. A straight line from you to the ball will
then make an angle with the horizontal that increases and decreases as
the ball goes up and down. Let us consider the ball at a particular
moment in time, at which it has a height of <span class="math">\(10\)</span> m.</p>
<p>What is the angle of the line then? Again, this could easily be done
with a calculator, but we continue to address gentle mathematical
problems when learning to program. Before thinking of writing a program,
one should always formulate the <em>algorithm</em>, i.e., the recipe for what
kind of calculations that must be performed. Here, if the ball is
<span class="math">\(x\)</span> m away and <span class="math">\(y\)</span> m up in the air, it makes an angle <span class="math">\(\theta\)</span> with
the ground, where <span class="math">\(\tan\theta = y/x\)</span>. The angle is then <span class="math">\(\tan^{-1}(y/x)\)</span>.</p>
<p>Let us make a Python program for doing these calculations. We introduce
variables <code class="docutils literal"><span class="pre">x</span></code> and <code class="docutils literal"><span class="pre">y</span></code> for the position data <span class="math">\(x\)</span> and <span class="math">\(y\)</span>, and the
descriptive name <code class="docutils literal"><span class="pre">angle</span></code> for the angle <span class="math">\(\theta\)</span>.
The program is stored in a file
<a class="reference external" href="https://github.com/hplgit/prog4comp/tree/master/src/py/ball_angle_first_try.py">ball_angle_first_try.py</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>             <span class="c"># Horizontal position</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">10</span>             <span class="c"># Vertical position</span>

<span class="n">angle</span> <span class="o">=</span> <span class="n">atan</span><span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>

<span class="k">print</span> <span class="p">(</span><span class="n">angle</span><span class="o">/</span><span class="n">pi</span><span class="p">)</span><span class="o">*</span><span class="mi">180</span>
</pre></div>
</div>
<span class="target" id="index-46"></span><span class="target" id="index-47"></span><span class="target" id="index-48"></span><span class="target" id="index-49"></span><span class="target" id="index-50"></span><span class="target" id="index-51"></span><p id="index-52">Before we turn our attention to the running of this program, let us
take a look at one new thing in the code. The line <code class="docutils literal"><span class="pre">angle</span> <span class="pre">=</span> <span class="pre">atan(y/x)</span></code>,
illustrates how the <em>function</em> <code class="docutils literal"><span class="pre">atan</span></code>, corresponding to <span class="math">\(\tan^{-1}\)</span>
in mathematics, is <em>called</em> with the
ratio <code class="docutils literal"><span class="pre">y/x</span></code> as <em>input parameter</em> or <em>argument</em>.
The <code class="docutils literal"><span class="pre">atan</span></code> function takes one argument, and the computed value is
<em>returned</em> from <code class="docutils literal"><span class="pre">atan</span></code>. This means that where we see <code class="docutils literal"><span class="pre">atan(y/x)</span></code>,
a computation is performed (<span class="math">\(\tan^{-1}(y/x)\)</span>) and the result &#8220;replaces&#8221;
the text <code class="docutils literal"><span class="pre">atan(y/x)</span></code>. This is actually no more magic than if we
had written just <code class="docutils literal"><span class="pre">y/x</span></code>: then the computation of <code class="docutils literal"><span class="pre">y/x</span></code> would take place,
and the result of that division would replace the text <code class="docutils literal"><span class="pre">y/x</span></code>.
Thereafter, the result is assigned to the variable <code class="docutils literal"><span class="pre">angle</span></code>
on the left-hand side of <code class="docutils literal"><span class="pre">=</span></code>.</p>
<p>Note that the trigonometric functions, such as <code class="docutils literal"><span class="pre">atan</span></code>, work with
angles in radians. The return value of <code class="docutils literal"><span class="pre">atan</span></code> must hence be converted
to degrees, and that is why we perform the computation <code class="docutils literal"><span class="pre">(angle/pi)*180</span></code>.</p>
<span class="target" id="index-53"></span><span class="target" id="index-54"></span><span class="target" id="index-55"></span><span class="target" id="index-56"></span><p id="index-57">Two things happen in the <code class="docutils literal"><span class="pre">print</span></code> statement: first, the computation
of <code class="docutils literal"><span class="pre">(angle/pi)*180</span></code> is performed, resulting in a real number, and second,
<code class="docutils literal"><span class="pre">print</span></code> prints that real number. Again, we may think that the
arithmetic expression is replaced by its results and then <code class="docutils literal"><span class="pre">print</span></code>
starts working with that result.</p>
<p>If we next execute <code class="docutils literal"><span class="pre">ball_angle_first_try.py</span></code>, we get an error message on
the screen saying</p>
<span class="target" id="index-58"></span><div class="highlight-text" id="index-59"><div class="highlight"><pre>NameError: name &#39;atan&#39; is not defined
WARNING: Failure executing file: &lt;ball_angle_first_try.py&gt;
</pre></div>
</div>
<p>We have definitely run into trouble, but why? We are told that</p>
<div class="highlight-text"><div class="highlight"><pre>name &#39;atan&#39; is not defined
</pre></div>
</div>
<p>so apparently Python does not recognize this part of the code as
anything familiar. On a pocket calculator the inverse tangent function is
straightforward to use in a similar way as we have written in the
code. In Python, however, this function has not yet been <em>imported</em>
into the program. A lot of functionality is available to us in
a program, but much more functionality exists in Python <em>libraries</em>,
and to activate this functionality, we must explicitly import it.
In Python, the <code class="docutils literal"><span class="pre">atan</span></code> function is grouped together with many
other mathematical functions in the library called <code class="docutils literal"><span class="pre">math</span></code>.
Such a library is referred to as a <em>module</em> in correct Python language.
To get access to <code class="docutils literal"><span class="pre">atan</span></code> in our program we have to write</p>
<span class="target" id="index-60"></span><div class="highlight-python" id="index-61"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">atan</span>
</pre></div>
</div>
<p>Inserting this statement at the top of the program and rerunning it,
leads to a new problem: <code class="docutils literal"><span class="pre">pi</span></code> is not defined. The variable <code class="docutils literal"><span class="pre">pi</span></code>, representing
<span class="math">\(\pi\)</span>, is also available in the <code class="docutils literal"><span class="pre">math</span></code> module, but it has to be imported
too:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">atan</span><span class="p">,</span> <span class="n">pi</span>
</pre></div>
</div>
<p>It is tedious if you need quite some <code class="docutils literal"><span class="pre">math</span></code> functions and variables in
your program, e.g., also <code class="docutils literal"><span class="pre">sin</span></code>, <code class="docutils literal"><span class="pre">cos</span></code>, <code class="docutils literal"><span class="pre">log</span></code>, <code class="docutils literal"><span class="pre">exp</span></code>, and so on.
A quick way of importing everything in <code class="docutils literal"><span class="pre">math</span></code> at once, is</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>We will often use this import statement and then get access to all
common mathematical functions. This latter statement is inserted
in a program named
<a class="reference external" href="https://github.com/hplgit/prog4comp/tree/master/src/py/ball_angle.py">ball_angle.py</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>             <span class="c"># Horizontal position</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">10</span>             <span class="c"># Vertical position</span>

<span class="n">angle</span> <span class="o">=</span> <span class="n">atan</span><span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>

<span class="k">print</span> <span class="p">(</span><span class="n">angle</span><span class="o">/</span><span class="n">pi</span><span class="p">)</span><span class="o">*</span><span class="mi">180</span>
</pre></div>
</div>
<p>This program runs perfectly and produces <code class="docutils literal"><span class="pre">45.0</span></code> as output, as it should.</p>
<p>At first, it may seem cumbersome to have code in libraries, since you
have to know which library to import to get the desired functionality.
Having everything available anytime would be convenient, but this also
means that you fill up the memory of your program with a lot of
information that you rather would use for computations on big data.
Python has so many libraries with so much functionality that one
simply needs to import what is needed in a specific program.</p>
</div>
<div class="section" id="a-python-program-with-vectorization-and-plotting">
<span id="st-ex3"></span><h2>A Python program with vectorization and plotting<a class="headerlink" href="#a-python-program-with-vectorization-and-plotting" title="Permalink to this headline">¶</a></h2>
<p>We return to the problem where a ball is thrown up in the air and we
have a formula for the vertical position <span class="math">\(y\)</span> of the ball.  Say we are
interested in <span class="math">\(y\)</span> at every milli-second for the first second of the
flight. This requires repeating the calculation of <span class="math">\(y=v_0t-0.5gt^2\)</span>
one thousand times.</p>
<p id="index-62">We will also draw a graph of <span class="math">\(y\)</span> versus <span class="math">\(t\)</span> for <span class="math">\(t\in [0,1]\)</span>. Drawing
such graphs on a computer essentially means drawing straight lines
between points on the curve, so we need many points to make the visual
impression of a smooth curve. With one thousand points, as we aim to
compute here, the curve looks indeed very smooth.</p>
<p>In Python, the calculations and the visualization of the curve
may be done with the program
<a class="reference external" href="https://github.com/hplgit/prog4comp/tree/master/src/py/ball_plot.py">ball_plot.py</a>,
reading</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">linspace</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">v0</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1001</span><span class="p">)</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">v0</span><span class="o">*</span><span class="n">t</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">g</span><span class="o">*</span><span class="n">t</span><span class="o">**</span><span class="mi">2</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;t (s)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;y (m)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>This program produces a plot of the vertical position with time,
as seen in Figure <a class="reference internal" href="#fig-vertposplot"><span class="std std-ref">Plot generated by the script ball_plot.py showing the vertical position of the ball at a thousand points in time</span></a>.
As you notice, the code lines from the <code class="docutils literal"><span class="pre">ball.py</span></code> program
in the chapter <a class="reference internal" href="#st-ex1"><span class="std std-ref">A Python program with variables</span></a> have not changed much, but
the height is now computed and plotted for a thousand points in time!</p>
<p>Let us take a look at the differences between the new program and our previous program.
From the top, the first difference we notice are the lines</p>
<span class="target" id="index-63"></span><span class="target" id="index-64"></span><span class="target" id="index-65"></span><div class="highlight-python" id="index-66"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>You see the word <code class="docutils literal"><span class="pre">import</span></code> here, so you understand that
<code class="docutils literal"><span class="pre">numpy</span></code> must be a library, or module in Python terminology.
This library contains a lot of very useful functionality for
mathematical computing, while the <code class="docutils literal"><span class="pre">matplotlib.pyplot</span></code> module
contains functionality for plotting curves.
The above import statement constitutes a quick way
of populating your program with all necessary functionality
for mathematical computing and plotting. However,
we actually make use of only a few functions in the present
program: <code class="docutils literal"><span class="pre">linspace</span></code>, <code class="docutils literal"><span class="pre">plot</span></code>, <code class="docutils literal"><span class="pre">xlabel</span></code>, and <code class="docutils literal"><span class="pre">ylabel</span></code>.
Many computer scientists will therefore argue that we should
explicitly import what we need and not everything (the star <code class="docutils literal"><span class="pre">*</span></code>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">linspace</span>
<span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="n">plot</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span>
</pre></div>
</div>
<p>Others will claim that we should do a slightly different import
and prefix library functions by the library name:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="o">...</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1001</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;t (s)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;y (m)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We will use all three techniques, and since all of them are in so
widespread use, you should be familiar with them too. However,
for the most part in this book we shall do</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>for convenience and for making Python programs that look very similar to
their Matlab counterparts.</p>
<p id="index-67">The function <code class="docutils literal"><span class="pre">linspace</span></code> takes <span class="math">\(3\)</span> parameters, and is generally called as</p>
<div class="highlight-matlab"><div class="highlight"><pre><span class="nb">linspace</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>This is our first example of a Python function that takes multiple
arguments.  The <code class="docutils literal"><span class="pre">linspace</span></code> function generates <code class="docutils literal"><span class="pre">n</span></code> equally spaced
coordinates, starting with <code class="docutils literal"><span class="pre">start</span></code> and ending with <code class="docutils literal"><span class="pre">stop</span></code>. The
expression <code class="docutils literal"><span class="pre">linspace(0,</span> <span class="pre">1,</span> <span class="pre">1001)</span></code> creates 1001 coordinates between 0
and 1 (including both 0 and 1). The mathematically inclined reader
will notice that 1001 coordinates correspond to 1000 equal-sized
intervals in <span class="math">\([0,1]\)</span> and that the coordinates are then given by <span class="math">\(t_i =
i/1000\)</span> (<span class="math">\(i = 0, 1, ..., 1000\)</span>).</p>
<div class="figure" id="id3">
<span id="fig-vertposplot"></span><a class="reference internal image-reference" href="_images/fig1_9.png"><img alt="_images/fig1_9.png" src="_images/fig1_9.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">Plot generated by the script <code class="docutils literal"><span class="pre">ball_plot.py</span></code> showing the vertical position of the ball at a thousand points in time</span></p>
</div>
<p>The value returned from <code class="docutils literal"><span class="pre">linspace</span></code> (being stored in <code class="docutils literal"><span class="pre">t</span></code>) is an <em>array</em>,
i.e., a collection of numbers. When we start computing with this
collection of numbers in the arithmetic expression
<code class="docutils literal"><span class="pre">v0*t</span> <span class="pre">-</span> <span class="pre">0.5*g*t**2</span></code>, the expression is calculated for
every number in <code class="docutils literal"><span class="pre">t</span></code> (i.e., every <span class="math">\(t_i\)</span> for <span class="math">\(i = 0, 1,..., 1000\)</span>), yielding a similar collection of 1001 numbers in the result <code class="docutils literal"><span class="pre">y</span></code>. That is, <code class="docutils literal"><span class="pre">y</span></code> is also an array.</p>
<p>This technique of computing all numbers &#8220;in one chunk&#8221; is referred to
as <em>vectorization</em>. When it can be used, it is very handy, since both
the amount of code and computation time is reduced compared to writing
a corresponding <code class="docutils literal"><span class="pre">for</span></code> or <code class="docutils literal"><span class="pre">while</span></code> loop (the chapter <a class="reference internal" href="._pylight003.html#nd-basicconstructins"><span class="std std-ref">Basic constructions</span></a>) for doing the same thing.</p>
<span class="target" id="index-68"></span><span class="target" id="index-69"></span><span class="target" id="index-70"></span><p id="index-71">The plotting commands are simple:</p>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">plot(t,</span> <span class="pre">y)</span></code> means plotting all the <code class="docutils literal"><span class="pre">y</span></code> coordinates versus all the <code class="docutils literal"><span class="pre">t</span></code> coordinates</li>
<li><code class="docutils literal"><span class="pre">xlabel('t</span> <span class="pre">(s)')</span></code> places the text <code class="docutils literal"><span class="pre">t</span> <span class="pre">(s)</span></code> on the <span class="math">\(x\)</span> axis</li>
<li><code class="docutils literal"><span class="pre">ylabel('y</span> <span class="pre">(m)')</span></code> places the text <code class="docutils literal"><span class="pre">y</span> <span class="pre">(m)</span></code> on the <span class="math">\(y\)</span> axis</li>
</ol>
<p>At this stage, you are strongly encouraged to do <a class="reference internal" href="#st-exer-volumes3cubes"><span class="std std-ref">Exercise 4: Volumes of three cubes</span></a>. It builds on the example above, but is
much simpler both with respect to the mathematics and the amount of
numbers involved.</p>
</div>
<div class="section" id="more-basic-concepts">
<h2>More basic concepts<a class="headerlink" href="#more-basic-concepts" title="Permalink to this headline">¶</a></h2>
<p>So far we have seen a few basic examples on how to apply Python
programming to solve mathematical problems. Before we can go on with
other and more realistic examples, we need to briefly treat some
topics that will be frequently required in later chapters. These
topics include computer science concepts like variables, objects,
error messages, and warnings; more numerical concepts like rounding
errors, arithmetic operator precedence, and integer division; in
addition to more Python functionality when working with arrays,
plotting, and printing.</p>
<div class="section" id="using-python-interactively">
<h3>Using Python interactively<a class="headerlink" href="#using-python-interactively" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-72"></span><span class="target" id="index-73"></span><span class="target" id="index-74"></span><span class="target" id="index-75"></span><span class="target" id="index-76"></span><p id="index-77">Python can also be used interactively. That is, we do not first write
a program in a file and execute it, but we give statements and
expressions to what is known as a Python <em>shell</em>.  We recommend to use
IPython as shell (because it is superior to alternative Python
shells). With <code class="docutils literal"><span class="pre">Spyder</span></code>, <code class="docutils literal"><span class="pre">Ipython</span></code> is available at startup, appearing
as the lower right window.  Following the IPython prompt <code class="docutils literal"><span class="pre">In</span> <span class="pre">[1]:</span></code> (a
<em>prompt</em> means a &#8220;ready sign&#8221;, i.e. the program allows you to enter
a command, and different programs often have different looking
prompts), you may do calculations:</p>
<div class="highlight-ipy"><div class="highlight"><pre><span class="n">In</span>  <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="mi">2</span><span class="o">+</span><span class="mi">2</span>
<span class="n">Out</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="mi">4</span>

<span class="n">In</span>  <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="mi">2</span><span class="o">*</span><span class="mi">3</span>
<span class="n">Out</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="mi">6</span>

<span class="n">In</span>  <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="mi">10</span><span class="o">/</span><span class="mi">2</span>
<span class="n">Out</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="mi">5</span>

<span class="n">In</span>  <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="mi">2</span><span class="o">**</span><span class="mi">3</span>
<span class="n">Out</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="mi">8</span>
</pre></div>
</div>
<p>The response from <code class="docutils literal"><span class="pre">IPython</span></code> is preceded by <code class="docutils literal"><span class="pre">Out</span> <span class="pre">[q]:</span></code>,
where <code class="docutils literal"><span class="pre">q</span></code> equals <code class="docutils literal"><span class="pre">p</span></code> when the response is to input &#8220;number&#8221; <code class="docutils literal"><span class="pre">p</span></code>.</p>
<p>Note that, as in a program, you may have to use <code class="docutils literal"><span class="pre">import</span></code> before using
<code class="docutils literal"><span class="pre">pi</span></code> or functions like <code class="docutils literal"><span class="pre">sin</span></code>, <code class="docutils literal"><span class="pre">cos</span></code>, etc. That is, at the prompt, do
the command <code class="docutils literal"><span class="pre">from</span> <span class="pre">math</span> <span class="pre">import</span> <span class="pre">*</span></code> before you use <code class="docutils literal"><span class="pre">pi</span></code> or <code class="docutils literal"><span class="pre">sin</span></code>,
etc. Importing other modules than <code class="docutils literal"><span class="pre">math</span></code> may be relevant, depending on
what your aim is with the computations.</p>
<p>You may also define variables and use formulas interactively as</p>
<div class="highlight-ipy"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">v0</span> <span class="o">=</span> <span class="mi">5</span>

<span class="gp">In [2]: </span><span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span>

<span class="gp">In [3]: </span><span class="n">t</span> <span class="o">=</span> <span class="mf">0.6</span>

<span class="gp">In [4]: </span><span class="n">y</span> <span class="o">=</span> <span class="n">v0</span><span class="o">*</span><span class="n">t</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">g</span><span class="o">*</span><span class="n">t</span><span class="o">**</span><span class="mi">2</span>

<span class="gp">In [5]: </span><span class="k">print</span> <span class="n">y</span>
<span class="go">------&gt; print(y)</span>
<span class="go">1.2342</span>
</pre></div>
</div>
<p>Sometimes you would like to repeat a command you have given earlier, or perhaps give a command that is almost the same as an earlier one. Then you can use the up-arrow key. Pressing this one time gives you the previous command, pressing two times gives you the command before that, and so on. With
the down-arrow key you can go forward again.
When you have the relevant command at the prompt, you may edit it before
pressing enter (which lets Python read it and take action).</p>
</div>
<div class="section" id="arithmetics-parentheses-and-rounding-errors">
<h3>Arithmetics, parentheses and rounding errors<a class="headerlink" href="#arithmetics-parentheses-and-rounding-errors" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-78"></span><p id="index-79">When the arithmetic operators <code class="docutils literal"><span class="pre">+</span></code>, <code class="docutils literal"><span class="pre">-</span></code>, <code class="docutils literal"><span class="pre">*</span></code>, <code class="docutils literal"><span class="pre">/</span></code> and
<code class="docutils literal"><span class="pre">**</span></code> appear in an expression, Python gives them a certain
precedence. Python interprets the expression from left to right,
taking one term (part of expression between two successive <code class="docutils literal"><span class="pre">+</span></code> or <code class="docutils literal"><span class="pre">-</span></code>)
at a time. Within each term, <code class="docutils literal"><span class="pre">**</span></code>
is done before <code class="docutils literal"><span class="pre">*</span></code> and <code class="docutils literal"><span class="pre">/</span></code>. Consider
the expression
<code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">1*5**2</span> <span class="pre">+</span> <span class="pre">10*3</span> <span class="pre">-</span> <span class="pre">1.0/4</span></code>.
There are three terms here
and interpreting this, Python starts from the left. In the first term,
<code class="docutils literal"><span class="pre">1*5**2</span></code>,
it first does <code class="docutils literal"><span class="pre">5**2</span></code> which equals 25. This is then
multiplied by 1 to give 25 again. The second term is <code class="docutils literal"><span class="pre">10*3</span></code>, i.e.,
30. So the first two terms add up to 55. The last term gives 0.25, so
the final result is 54.75 which becomes the value of <code class="docutils literal"><span class="pre">x</span></code>.</p>
<p id="index-80">Note that parentheses are often very important to group parts of
expressions together in the intended way. Let us say <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">4</span></code> and that
you want to divide 1.0 by <code class="docutils literal"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">1</span></code>. We know the answer is 0.2, but the
way we present the task to Python is critical, as shown by the
following example.</p>
<div class="highlight-ipy"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">x</span> <span class="o">=</span> <span class="mi">4</span>

<span class="go">In  [2]: 1.0/x+1</span>
<span class="go">Out [2]: 1.25</span>

<span class="go">In  [3]: 1.0/(x+1)</span>
<span class="go">Out [3]: 0.20000000000000001</span>
</pre></div>
</div>
<p>In the first try, we see that 1.0 is divided by <code class="docutils literal"><span class="pre">x</span></code> (i.e., 4), giving
0.25, which is then added to 1. Python did not understand that our
complete denominator was <code class="docutils literal"><span class="pre">x+1</span></code>. In our second try, we used parentheses
to &#8220;group&#8221; the denominator, and we got what we wanted. That is,
<em>almost</em> what we wanted! Since most numbers can be represented only
approximately on the computer, this gives rise to what is called
<em>rounding</em> errors. We should have got 0.2 as our answer, but the
inexact number representation gave a small error. Usually, such errors
are so small compared to the other numbers of the calculation, that we
do not need to bother with them. Still, keep it in mind, since you
will encounter this issue from time to time. More details regarding number
representations on a computer is given in the section <a class="reference internal" href="._pylight004.html#sec-integrals-finite-prec"><span class="std std-ref">Finite precision of floating-point numbers</span></a>.</p>
</div>
<div class="section" id="variables-and-objects">
<h3>Variables and objects<a class="headerlink" href="#variables-and-objects" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-81"></span><span class="target" id="index-82"></span><span class="target" id="index-83"></span><span class="target" id="index-84"></span><span class="target" id="index-85"></span><span class="target" id="index-86"></span><span class="target" id="index-87"></span><span class="target" id="index-88"></span><span class="target" id="index-89"></span><span class="target" id="index-90"></span><span class="target" id="index-91"></span><p id="index-92">Variables in Python will be of a certain <em>type</em>. If you have an
integer, say you have written <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">2</span></code> in some Python program, then <code class="docutils literal"><span class="pre">x</span></code>
becomes an integer variable, i.e., a variable of type
<em>int</em>. Similarly, with the statement <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">2.0</span></code>, <code class="docutils literal"><span class="pre">x</span></code> becomes a <em>float</em>
variable (the word float is just computer language for a real
number). In any case, Python thinks of <code class="docutils literal"><span class="pre">x</span></code> as an <em>object</em>, of type int
or float. Another common type of variable is <em>str</em>, i.e. a string,
needed when you want to store text. When Python interprets <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">&quot;This</span>
<span class="pre">is</span> <span class="pre">a</span> <span class="pre">string&quot;</span></code>, it stores the text (in between the quotes) in the
variable <code class="docutils literal"><span class="pre">x</span></code>. This variable is then an object of type str. You may
convert between variable types if it makes sense. If, e.g., <code class="docutils literal"><span class="pre">x</span></code> is an
int object, writing <code class="docutils literal"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">float(x)</span></code> will make <code class="docutils literal"><span class="pre">y</span></code> a floating point
representation of <code class="docutils literal"><span class="pre">x</span></code>. Similarly, you may write <code class="docutils literal"><span class="pre">int(x)</span></code> to produce an
int if <code class="docutils literal"><span class="pre">x</span></code> is originally of type float. Type conversion may also occur
automatically, as shown just below.</p>
<p>Names of variables should be chosen so that they are descriptive. When
computing a mathematical quantity that has some standard symbol,
e.g. <span class="math">\(\alpha\)</span>, this should be reflected in the name by letting the
word <code class="docutils literal"><span class="pre">alpha</span></code> be part of the name for the corresponding variable in the
program. If you, e.g., have a variable for counting the number of
sheep, then one appropriate name could be <code class="docutils literal"><span class="pre">no_of_sheep</span></code>. Such naming
makes it much easier for a human to understand the written
code. Variable names may also contain any digit from 0 to 9, or
underscores, but can not start with a digit. Letters may be lower or
upper case, which to Python is different. Note that certain names in
Python are <em>reserved</em>, meaning that you can not use these as names for
variables. Some examples are <code class="docutils literal"><span class="pre">for</span></code>, <code class="docutils literal"><span class="pre">while</span></code>, <code class="docutils literal"><span class="pre">if</span></code>, <code class="docutils literal"><span class="pre">else</span></code>, <code class="docutils literal"><span class="pre">global</span></code>,
<code class="docutils literal"><span class="pre">return</span></code> and <code class="docutils literal"><span class="pre">elif</span></code>. If you accidentally use a reserved word as a
variable name you get an error message.</p>
<p>We have seen that, e.g., <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">2</span></code> will assign the value 2 to the
variable <code class="docutils literal"><span class="pre">x</span></code>. But how do we write it if we want to increase <code class="docutils literal"><span class="pre">x</span></code> by 4?
We may write an assignment like <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">4</span></code>, or (giving a faster
computation) <code class="docutils literal"><span class="pre">x</span> <span class="pre">+=</span> <span class="pre">4</span></code>. Now Python interprets this as: take whatever
value that is in <code class="docutils literal"><span class="pre">x</span></code>, add 4, and let the result become the new value
of <code class="docutils literal"><span class="pre">x</span></code>. In other words, the <em>old</em> value of <code class="docutils literal"><span class="pre">x</span></code> is used on the right
hand side of <code class="docutils literal"><span class="pre">=</span></code>, no matter how messy the expression might be, and the
result becomes the new value of <code class="docutils literal"><span class="pre">x</span></code>. In a similar way, <code class="docutils literal"><span class="pre">x</span> <span class="pre">-=</span> <span class="pre">4</span></code>
reduces the value of <code class="docutils literal"><span class="pre">x</span></code> by 4, <code class="docutils literal"><span class="pre">x</span> <span class="pre">*=</span> <span class="pre">4</span></code> multiplies <code class="docutils literal"><span class="pre">x</span></code> by 4, and <code class="docutils literal"><span class="pre">x</span> <span class="pre">/=</span>
<span class="pre">4</span></code> divides <code class="docutils literal"><span class="pre">x</span></code> by 4, updating the value of <code class="docutils literal"><span class="pre">x</span></code> accordingly.</p>
<p id="index-93">What if <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">2</span></code>, i.e., an object of type int, and we add 4.0, i.e., a
float? Then <em>automatic type conversion</em> takes place, and the new <code class="docutils literal"><span class="pre">x</span></code>
will have the value 6.0, i.e., an object of type float as seen here,</p>
<div class="highlight-ipy"><div class="highlight"><pre><span class="n">In</span>  <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">In</span>  <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mf">4.0</span>

<span class="n">In</span>  <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">x</span>
<span class="n">Out</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="mf">6.0</span>
</pre></div>
</div>
<p>Note that Python programmers, and Python (in printouts), often write,
e.g., <span class="math">\(2.\)</span> which by definition is the integer <span class="math">\(2\)</span> represented as a
float.</p>
</div>
<div class="section" id="integer-division">
<h3>Integer division<a class="headerlink" href="#integer-division" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-94"></span><p id="index-95">Another issue that is important to be aware of is <em>integer division</em>. Let us look at a small example, assuming we want to divide one by four.</p>
<div class="highlight-ipy"><div class="highlight"><pre><span class="n">In</span>  <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span>
<span class="n">Out</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="mi">0</span>

<span class="n">In</span>  <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="mf">1.0</span><span class="o">/</span><span class="mi">4</span>
<span class="n">Out</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="mf">0.25</span>
</pre></div>
</div>
<p>We see two alternative ways of writing it, but only the last way of writing it gave the correct result! Why?</p>
<p>The first alternative gives what is called <em>integer division</em>, i.e.,
all decimals in the answer are disregarded, so the result is rounded
down to the nearest integer. To avoid it, we may introduce an
explicit decimal point in either the numerator, the denominator, or in
both. If you are new to programming, this is certainly strange
behavior. However, you will find the same thing in many programming
languages, not only Python. If your numerator or denominator is a
variable, say you have <code class="docutils literal"><span class="pre">1/x</span></code>, you may write <code class="docutils literal"><span class="pre">1/float(x)</span></code> to be on safe
grounds.</p>
<p><strong>Remark.</strong>
In version 3, Python will interpret an integer divided by
an integer (e.g., <code class="docutils literal"><span class="pre">1/4</span></code>) as a float division.</p>
</div>
<div class="section" id="formatting-text-and-numbers">
<h3>Formatting text and numbers<a class="headerlink" href="#formatting-text-and-numbers" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-96"></span><span class="target" id="index-97"></span><p id="index-98">Results from scientific computations are often to be reported
as a mixture of text and numbers. Usually, we want to control
how numbers are formatted. For example, we may want to write 1/3
as <code class="docutils literal"><span class="pre">0.33</span></code> or <code class="docutils literal"><span class="pre">3.3333e-01</span></code> (<span class="math">\(3.3333\cdot 10^{-1}\)</span>).
The <code class="docutils literal"><span class="pre">print</span></code> command is the key
tool to write out text and numbers with full control of
the formatting. The first argument to <code class="docutils literal"><span class="pre">print</span></code>
is a string with a particular syntax to specify the formatting, the
so-called <em>printf syntax</em>. (The peculiar name stems from the <code class="docutils literal"><span class="pre">printf</span></code>
function in the programming language C where the syntax was first
introduced.)</p>
<p>Suppose we have a real number 12.89643, an integer 42, and
a text <code class="docutils literal"><span class="pre">'some</span> <span class="pre">message'</span></code> that we want to write out in
the following two alternative ways:</p>
<div class="highlight-text"><div class="highlight"><pre>real=12.896, integer=42, string=some message
real=1.290e+01, integer=   42, string=some message
</pre></div>
</div>
<p>The real number is first written in <em>decimal notation</em> with three
decimals, as <code class="docutils literal"><span class="pre">12.896</span></code>, but afterwards in <em>scientific notation</em>
as <code class="docutils literal"><span class="pre">1.290e+01</span></code>. The integer is first written as compactly as
possible, while on the second line, <code class="docutils literal"><span class="pre">42</span></code> is formatted in a
text field of width equal to five characters.</p>
<p>The following program,
<a class="reference external" href="https://github.com/hplgit/prog4comp/tree/master/src/py/formatted_print.py">formatted_print.py</a>,
applies the printf syntax to control
the formatting displayed above:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">real</span> <span class="o">=</span> <span class="mf">12.89643</span>
<span class="n">integer</span> <span class="o">=</span> <span class="mi">42</span>
<span class="n">string</span> <span class="o">=</span> <span class="s">&#39;some message&#39;</span>
<span class="k">print</span> <span class="s">&#39;real=</span><span class="si">%.3f</span><span class="s">, integer=</span><span class="si">%d</span><span class="s">, string=</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">real</span><span class="p">,</span> <span class="n">integer</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;real=</span><span class="si">%9.3e</span><span class="s">, integer=</span><span class="si">%5d</span><span class="s">, string=</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">real</span><span class="p">,</span> <span class="n">integer</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</pre></div>
</div>
<p>The output of <code class="docutils literal"><span class="pre">print</span></code> is a string,
specified in terms of text and a set of variables to be inserted in the text.
Variables are inserted in the text at places indicated by <code class="docutils literal"><span class="pre">%</span></code>.
After <code class="docutils literal"><span class="pre">%</span></code> comes a specification of the formatting, e.g, <code class="docutils literal"><span class="pre">%f</span></code>
(real number), <code class="docutils literal"><span class="pre">%d</span></code> (integer), or <code class="docutils literal"><span class="pre">%s</span></code> (string).
The format <code class="docutils literal"><span class="pre">%9.3f</span></code> means a real number in decimal notation, with
3 decimals, written in a field of width equal to 9 characters.
The variant <code class="docutils literal"><span class="pre">%.3f</span></code> means that the number is written as compactly as
possible, in decimal notation, with three decimals. Switching
<code class="docutils literal"><span class="pre">f</span></code> with <code class="docutils literal"><span class="pre">e</span></code> or <code class="docutils literal"><span class="pre">E</span></code> results in the scientific notation, here
<code class="docutils literal"><span class="pre">1.290e+01</span></code> or <code class="docutils literal"><span class="pre">1.290E+01</span></code>. Writing <code class="docutils literal"><span class="pre">%5d</span></code> means that an integer
is to be written in a field of width equal to 5 characters.
Real numbers can also be specified with <code class="docutils literal"><span class="pre">%g</span></code>, which is used
to automatically choose between decimal or scientific
notation, from what gives the most compact output
(typically, scientific notation is appropriate for very small and very large numbers
and decimal notation for the intermediate range).</p>
<p>A typical example of when printf formatting is required, arises when
nicely aligned columns of numbers are to be printed. Suppose we want to
print a column of <span class="math">\(t\)</span> values together with associated function
values <span class="math">\(g(t)=t\sin(t)\)</span> in a second column. The simplest approach
would be</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span>

<span class="n">t0</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">dt</span> <span class="o">=</span> <span class="mf">0.55</span>

<span class="c"># Unformatted print</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">t0</span> <span class="o">+</span> <span class="mi">0</span><span class="o">*</span><span class="n">dt</span><span class="p">;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">t</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="k">print</span> <span class="n">t</span><span class="p">,</span> <span class="n">g</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">t0</span> <span class="o">+</span> <span class="mi">1</span><span class="o">*</span><span class="n">dt</span><span class="p">;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">t</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="k">print</span> <span class="n">t</span><span class="p">,</span> <span class="n">g</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">t0</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">dt</span><span class="p">;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">t</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="k">print</span> <span class="n">t</span><span class="p">,</span> <span class="n">g</span>
</pre></div>
</div>
<p>with output</p>
<div class="highlight-text"><div class="highlight"><pre>2.0 1.81859485365
2.55 1.42209347935
3.1 0.128900053543
</pre></div>
</div>
<p>(Repeating the same set of statements multiple times, as done above,
is not good programming practice - one should use a for loop, as
explained later in the section <a class="reference internal" href="._pylight003.html#sec-for-loops"><span class="std std-ref">For loops</span></a>.)
Observe that the numbers in the columns
are not nicely aligned. Using the printf syntax
<code class="docutils literal"><span class="pre">'%6.2f</span>&nbsp; <span class="pre">%8.3f'</span> <span class="pre">%</span> <span class="pre">(t,</span> <span class="pre">g)</span></code> for <code class="docutils literal"><span class="pre">t</span></code> and <code class="docutils literal"><span class="pre">g</span></code>, we can control the width of each
column and also the number of decimals, such that the numbers
in a column are aligned under each other and
written with the same precision. The output
then becomes</p>
<div class="highlight-text"><div class="highlight"><pre>Formatting via printf syntax
  2.00     1.819
  2.55     1.422
  3.10     0.129
</pre></div>
</div>
<p>We shall frequently use the printf syntax throughout the book so there
will be plenty of further examples.</p>
<div class="admonition-the-modern-alternative-to-printf-syntax admonition">
<p class="first admonition-title">The modern alternative to printf syntax</p>
<p>Modern Python favors the new <em>format string syntax</em> over printf:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&#39;At t={t:g} s, y={y:.2f} m&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>which corresponds to the printf syntax</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&#39;At t=</span><span class="si">%g</span><span class="s"> s, y=</span><span class="si">%.2f</span><span class="s"> m&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>The slots where variables are inserted are now recognized by curly
braces, and in <code class="docutils literal"><span class="pre">format</span></code> we list the variable names inside curly
braces and their equivalent variables in the program.</p>
<p class="last">Since the printf syntax is so widely used in many programming languages,
we stick to that in the present book, but Python programmers will
frequently also meet the newer format string syntax, so it is important
to be aware its existence.</p>
</div>
</div>
<div class="section" id="arrays">
<h3>Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-99"></span><span class="target" id="index-100"></span><span class="target" id="index-101"></span><span class="target" id="index-102"></span><span class="target" id="index-103"></span><span class="target" id="index-104"></span><p id="index-105">In the program <code class="docutils literal"><span class="pre">ball_plot.py</span></code> from the chapter <a class="reference internal" href="#st-ex3"><span class="std std-ref">A Python program with vectorization and plotting</span></a> we saw how
1001 height computations were executed and stored in the variable <code class="docutils literal"><span class="pre">y</span></code>,
and then displayed in a plot showing <code class="docutils literal"><span class="pre">y</span></code> versus <code class="docutils literal"><span class="pre">t</span></code>, i.e., height
versus time. The collection of numbers in <code class="docutils literal"><span class="pre">y</span></code> (or <code class="docutils literal"><span class="pre">t</span></code>, respectively)
was stored in what is called an <em>array</em>, a construction also found in
most other programming languages. Such arrays are created and
treated according to certain rules, and as a programmer, you may
direct Python to compute and handle arrays as a whole, or as
individual <em>array elements</em>. Let us briefly look at a smaller such
collection of numbers.</p>
<p>Assume that the heights of four family members have been collected. These heights may be generated and stored in an array, e.g., named <code class="docutils literal"><span class="pre">h</span></code>, by writing</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">h</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">h</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.60</span>
<span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.85</span>
<span class="n">h</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.75</span>
<span class="n">h</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.80</span>
</pre></div>
</div>
<p>where the array elements appear as <code class="docutils literal"><span class="pre">h[0]</span></code>, <code class="docutils literal"><span class="pre">h[1]</span></code>, etc. Generally,
when we read or talk about the array elements of some array <code class="docutils literal"><span class="pre">a</span></code>, we
refer to them by reading or saying &#8220;a of zero&#8221; (i.e., <code class="docutils literal"><span class="pre">a[0]</span></code>), &#8220;a of
one&#8221; (i.e., <code class="docutils literal"><span class="pre">a[1]</span></code>), and so on.  The very first line in the example
above, i.e.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">h</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>instructs Python to reserve, or <em>allocate</em>, space in memory for an
array <code class="docutils literal"><span class="pre">h</span></code> with four elements and initial values set to 0.
The next four lines overwrite the zeros
with the desired numbers (measured heights), one number for each
element. Elements are, by rule, <em>indexed</em> (numbers within brackets)
from 0 to the last element, in this case 3. We say that Python has
<em>zero based indexing</em>. This differs from <em>one based indexing</em> (e.g.,
found in Matlab) where the array index starts with 1.</p>
<p id="index-106">As illustrated in the code, you may refer to the array as a whole by
the name <code class="docutils literal"><span class="pre">h</span></code>, but also to each individual element by use of the
index. The array elements may enter in computations as individual
variables, e.g., writing
<code class="docutils literal"><span class="pre">z</span> <span class="pre">=</span> <span class="pre">h[0]</span> <span class="pre">+</span> <span class="pre">h[1]</span> <span class="pre">+</span> <span class="pre">h[2]</span> <span class="pre">+</span> <span class="pre">h[3]</span></code> will compute
the sum of all the elements in <code class="docutils literal"><span class="pre">h</span></code>, while the result is assigned to
the variable <code class="docutils literal"><span class="pre">z</span></code>. Note that this way of creating an array is a bit
different from the one with <code class="docutils literal"><span class="pre">linspace</span></code>, where the filling in of
numbers occurred automatically &#8220;behind the scene&#8221;.</p>
<span class="target" id="index-107"></span><p id="index-108">By the use of a colon, you may pick out a <em>slice</em> of an array. For
example, to create a new array from the two elements <code class="docutils literal"><span class="pre">h[1]</span></code> and
<code class="docutils literal"><span class="pre">h[2]</span></code>, we could write <code class="docutils literal"><span class="pre">slice_h</span> <span class="pre">=</span> <span class="pre">h[1:3]</span></code>. Note that the index
specification <code class="docutils literal"><span class="pre">1:3</span></code> means indices <code class="docutils literal"><span class="pre">1</span></code> and <code class="docutils literal"><span class="pre">2</span></code>, i.e., the last index is
not included. For the generated <code class="docutils literal"><span class="pre">slice_h</span></code> array, indices are as usual,
i.e., <code class="docutils literal"><span class="pre">0</span></code> and <code class="docutils literal"><span class="pre">1</span></code> in this case. The very last entry in an array may be
addressed as, e.g., <code class="docutils literal"><span class="pre">h[-1]</span></code>.</p>
<p>Copying arrays requires some care since simply writing <code class="docutils literal"><span class="pre">new_h</span> <span class="pre">=</span> <span class="pre">h</span></code>
will, when you afterwards change elements of <code class="docutils literal"><span class="pre">new_h</span></code>, also change the
corresponding elements in <code class="docutils literal"><span class="pre">h</span></code>! That is, <code class="docutils literal"><span class="pre">h[1]</span></code> is also changed when
writing</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_h</span> <span class="o">=</span> <span class="n">h</span>
<span class="n">new_h</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="k">print</span> <span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>In this case we do not get <span class="math">\(1.85\)</span> out on the screen, but <span class="math">\(5.0\)</span>. To
really get a copy that is decoupled from the original array, you may
write <code class="docutils literal"><span class="pre">new_h</span> <span class="pre">=</span> <span class="pre">copy(h)</span></code>. However, copying a slice works straight
forwardly (as shown above), i.e. an explicit use of <code class="docutils literal"><span class="pre">copy</span></code> is not
required.</p>
</div>
<div class="section" id="plotting">
<h3>Plotting<a class="headerlink" href="#plotting" title="Permalink to this headline">¶</a></h3>
<p id="index-109">Sometimes you would like to have two or more curves or <em>graphs</em> in
the same plot. Assume we have <code class="docutils literal"><span class="pre">h</span></code> as above, and also an array <code class="docutils literal"><span class="pre">H</span></code> with
the heights <span class="math">\(0.50\)</span> m, <span class="math">\(0.70\)</span> m, <span class="math">\(1.90\)</span> m,
and <span class="math">\(1.75\)</span> m from a family next door. This may be done with the
program
<a class="reference external" href="https://github.com/hplgit/prog4comp/tree/master/src/py/plot_heights.py">plot_heights.py</a>
given as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">zeros</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">h</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">h</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.60</span><span class="p">;</span> <span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.85</span><span class="p">;</span> <span class="n">h</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.75</span><span class="p">;</span> <span class="n">h</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.80</span>
<span class="n">H</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">H</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.50</span><span class="p">;</span> <span class="n">H</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.70</span><span class="p">;</span> <span class="n">H</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.90</span><span class="p">;</span> <span class="n">H</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.75</span>

<span class="n">family_member_no</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">family_member_no</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">family_member_no</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">family_member_no</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">family_member_no</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">family_member_no</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">family_member_no</span><span class="p">,</span> <span class="n">H</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Family member number&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Height (m)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Running the program gives the plot shown in Figure <a class="reference internal" href="#fig-plotheights"><span class="std std-ref">Generated plot for the heights of family members from two families</span></a>.</p>
<div class="figure" id="id4">
<span id="fig-plotheights"></span><a class="reference internal image-reference" href="_images/fig1_18.png"><img alt="_images/fig1_18.png" src="_images/fig1_18.png" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text"><em>Generated plot for the heights of family members from two families</em></span></p>
</div>
<p id="index-110">Alternatively, the two curves could have been plotted in the same plot
by use of two plot commands, which gives more freedom as to how the
curves appear. To do this, you could plot the first curve by</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">family_member_no</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
<span class="n">hold</span><span class="p">(</span><span class="s">&#39;on&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then you could (in principle) do a lot of other things in your code, before you plot the second curve by</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">family_member_no</span><span class="p">,</span> <span class="n">H</span><span class="p">)</span>
<span class="n">hold</span><span class="p">(</span><span class="s">&#39;off&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice the use of <code class="docutils literal"><span class="pre">hold</span></code> here. <code class="docutils literal"><span class="pre">hold('on')</span></code> tells Python
to plot also the following curve(s) in the same window.
Python does so until it reads <code class="docutils literal"><span class="pre">hold('off')</span></code>. If you do not use the
<code class="docutils literal"><span class="pre">hold('on')</span></code> or <code class="docutils literal"><span class="pre">hold('off')</span></code> command,
the second plot command will overwrite the first one, i.e.,
you get only the second curve.</p>
<p id="index-111">In case you would like the two curves plotted in two separate plots, you can do this by plotting the first curve straightforwardly with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">family_member_no</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
</pre></div>
</div>
<p>then do other things in your code, before you do</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">figure</span><span class="p">()</span>
<span class="n">plot</span><span class="p">(</span><span class="n">family_member_no</span><span class="p">,</span> <span class="n">H</span><span class="p">)</span>
</pre></div>
</div>
<p>Note how the graphs are made continuous by Python, drawing straight
lines between the four data points of each family. This is the
standard way of doing it and was also done when plotting our 1001
height computations with <code class="docutils literal"><span class="pre">ball_plot.py</span></code> in the chapter <a class="reference internal" href="#st-ex3"><span class="std std-ref">A Python program with vectorization and plotting</span></a>. However, since there were so many data points then, the
curve looked nice and smooth. If preferred, one may also plot only the
data points. For example, writing</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="s">&#39;*&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>will mark only the data points with the star symbol.
Other symbols like circles etc. may be used as well.</p>
<span class="target" id="index-112"></span><span class="target" id="index-113"></span><span class="target" id="index-114"></span><span class="target" id="index-115"></span><p id="index-116">There are many possibilities in Python for adding information to a
plot or for changing its appearance. For example, you may add a legend
by the instruction</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">legend</span><span class="p">(</span><span class="s">&#39;This is some legend&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or you may add a title by</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">title</span><span class="p">(</span><span class="s">&#39;This is some title&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The command</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">axis</span><span class="p">([</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">])</span>
</pre></div>
</div>
<p>will define the plotting range for the <span class="math">\(x\)</span> axis to stretch from
<code class="docutils literal"><span class="pre">xmin</span></code> to <code class="docutils literal"><span class="pre">xmax</span></code> and, similarly, the plotting range for the
<span class="math">\(y\)</span> axis from <code class="docutils literal"><span class="pre">ymin</span></code> to <code class="docutils literal"><span class="pre">ymax</span></code>.
Saving the figure to file is achieved by the command</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">savefig</span><span class="p">(</span><span class="s">&#39;some_plot.png&#39;</span><span class="p">)</span>   <span class="c"># PNG format</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">&#39;some_plot.pdf&#39;</span><span class="p">)</span>   <span class="c"># PDF format</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">&#39;some_plot.gif&#39;</span><span class="p">)</span>   <span class="c"># GIF format</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">&#39;some_plot.eps&#39;</span><span class="p">)</span>   <span class="c"># Encanspulated PostScript format</span>
</pre></div>
</div>
<span class="target" id="index-117"></span><span class="target" id="index-118"></span><span class="target" id="index-119"></span><span class="target" id="index-120"></span><span class="target" id="index-121"></span><p id="index-122">For the reader who is into linear algebra, it may be useful to know
that standard matrix/vector operations are straightforward with
arrays, e.g., matrix-vector multiplication.</p>
<blockquote>
<div>What is needed though, is</div></blockquote>
<p>to create the right variable types (after having imported an
appropriate module).
For example, assume you would like to calculate
the vector <span class="math">\(\bf{y}\)</span> (note that boldface is used for vectors and
matrices) as <span class="math">\(\bf{y} = \bf{Ax}\)</span>, where <span class="math">\(\bf{A}\)</span> is a <span class="math">\(2 \times 2\)</span>
matrix and <span class="math">\(\bf{x}\)</span> is a vector. We may do this as illustrated by
the program <a class="reference external" href="https://github.com/hplgit/prog4comp/tree/master/src/py/matrix_vector_product.py">matrix_vector_product.py</a> reading</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">zeros</span><span class="p">,</span> <span class="n">mat</span><span class="p">,</span> <span class="n">transpose</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">mat</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">transpose</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>   <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>   <span class="c"># Pick some values</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">mat</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>  <span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c"># The following gives y = x since A = I, the identity matrix</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">A</span><span class="o">*</span><span class="n">x</span>
<span class="k">print</span> <span class="n">y</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal"><span class="pre">x</span></code> is first created as an array, just as we did above. Then
the variable type of <code class="docutils literal"><span class="pre">x</span></code> is changed to <code class="docutils literal"><span class="pre">mat</span></code>, i.e., matrix, by the
line <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">mat(x)</span></code>. This is followed by a transpose of <code class="docutils literal"><span class="pre">x</span></code> from
dimension <span class="math">\(1 \times 2\)</span> (the default dimension) to <span class="math">\(2 \times 1\)</span> with
the statement <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">transpose(x)</span></code>, before some test values are plugged
in. The matrix <code class="docutils literal"><span class="pre">A</span></code> is first created as a two dimensional array with <code class="docutils literal"><span class="pre">A</span>
<span class="pre">=</span> <span class="pre">zeros((2,2))</span></code> before conversion and filling in values take
place. Finally, the multiplication is performed as <code class="docutils literal"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">A*x</span></code>. Note the
number of parentheses when creating the two dimensional array
<code class="docutils literal"><span class="pre">A</span></code>. Running the program gives the following output on the screen:</p>
<div class="highlight-text"><div class="highlight"><pre>[[3.]
 [2.]]
</pre></div>
</div>
</div>
<div class="section" id="error-messages-and-warnings">
<h3>Error messages and warnings<a class="headerlink" href="#error-messages-and-warnings" title="Permalink to this headline">¶</a></h3>
<p id="index-123">All programmers experience error messages, and usually to a large
extent during the early learning process. Sometimes error messages
are understandable, sometimes they are not. Anyway, it is important
to get used to them. One idea is to start with a program that
initially is working, and then deliberately introduce errors in
it, one by one. (But remember to take a copy of the original working
code!)
For each error, you try to run the program to
see what Python&#8217;s response is. Then you know what the problem is
and understand what the error message is about. This will greatly
help you when you get a similar error message or warning later.</p>
<span class="target" id="index-124"></span><p id="index-125">Very often, you will experience that there are errors in the program
you have written. This is normal, but frustrating in the
beginning. You then have to find the problem, try to fix it, and then
run the program again. Typically, you fix one error just to experience
that another error is waiting around the corner. However, after some
time you start to avoid the most common beginner&#8217;s errors, and things
run more smoothly. The process of finding and fixing errors, called
<em>debugging</em>, is very important to learn. There are different ways of
doing it too.</p>
<p>A special program (<em>debugger</em>) may be used to help you check (and
do) different things in the program you need to fix. A simpler
procedure, that often brings you a long way, is to print information
to the screen from different places in the program. First of all, this
is something you should do (several times) during program development
anyway, so that things get checked as you go along. However, if the
final program still ends up with error messages, you might save a copy
of it, and do some testing on the copy. Useful testing may then be to
remove, e.g., the latter half of the program (by inserting comment
signs <code class="docutils literal"><span class="pre">#</span></code>), and insert print commands at clever places to see what is
the case. When the first half looks ok, insert parts of what was
removed and repeat the process with the new code. Using simple numbers
and doing this in parallel with hand calculations on a piece of paper
(for comparison) is often a very good idea.</p>
<span class="target" id="index-126"></span><span class="target" id="index-127"></span><p id="index-128">Python also offers means to detect and handle errors by the program
itself! The programmer must then foresee (when writing the code) that
there is a potential for error at some particular point. If, for
example, some user of the program is asked (by the running program) to
provide a number, and intends to give the number 5, but instead writes
the word <em>five</em>, the program could run into trouble. A
<code class="docutils literal"><span class="pre">try-exception</span></code> construction may be used by
the programmer to check for such errors and act appropriately (see
the chapter <a class="reference internal" href="._pylight007.html#th-nonlinalgeq-newt"><span class="std std-ref">Newton&#8217;s method</span></a> for an example), avoiding a program
crash. This procedure of trying an action and then recovering from
trouble, if necessary, is referred to as <em>exception handling</em> and
is the modern way of dealing with errors in a program.</p>
<span class="target" id="index-129"></span><span class="target" id="index-130"></span><span class="target" id="index-131"></span><span class="target" id="index-132"></span><p id="index-133">When a program finally runs without error messages, it might be
tempting to think that <em>Ah..., I am finished!</em>. But no! Then comes
program <em>testing</em>, you need to <em>verify</em> that the program does the
computations as planned. This is almost an art and usually takes
much more time than to develop the program, but the program is
useless unless you have much evidence showing that the computations
are correct.</p>
<div class="admonition-verification-versus-validation admonition">
<p class="first admonition-title">Verification versus validation</p>
<p class="last">Verification is important, but <em>validation</em> is equally
important. It is great if your program can do the calculations
according to the plan, <em>but</em> is it the right plan? Put otherwise, you
need to check that the computations run correctly according to the
<em>formula you have chosen/derived</em>. This is <em>verification</em>: doing the
things right.  Thereafter, you must also check whether the formula you
have chosen/derived is <em>the right</em> formula for the case you are
investigating. This is <em>validation</em>: doing the right things.  In the
present book, it is beyond scope to question how well the mathematical
models describe a given phenomenon in nature or engineering, as the
answer usually involves extensive knowledge of the application area.
We will therefore limit our testing to the verification part.</p>
</div>
</div>
<div class="section" id="input-data">
<h3>Input data<a class="headerlink" href="#input-data" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-134"></span><span class="target" id="index-135"></span><span class="target" id="index-136"></span><span class="target" id="index-137"></span><span class="target" id="index-138"></span><p id="index-139">Computer programs need a set of input data and the purpose is to
use these data to compute output data, i.e., results.
In the previous program we have specified input data in terms
of variables. However, one often wants to get the input through
some dialog with the user. Here is one example where the
program asks a question, and the user provides an answer by
typing on the keyboard:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">age</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">&#39;What is your age? &#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Ok, so you&#39;re half way to </span><span class="si">%d</span><span class="s">, wow!&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">age</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>So, after having interpreted and run the first line, Python has
established the variable <code class="docutils literal"><span class="pre">age</span></code> and assigned your input to it. The
second line combines the calculation of twice the age with a message
printed on the screen. Try these two lines in a little test program to
see for yourself how it works.</p>
<p>The <code class="docutils literal"><span class="pre">input</span></code> function is useful for numbers, lists (the chapter <a class="reference internal" href="._pylight003.html#nd-basicconstructins"><span class="std std-ref">Basic constructions</span></a>),
and tuples (the chapter <a class="reference internal" href="._pylight003.html#nd-basicconstructins"><span class="std std-ref">Basic constructions</span></a>).
For pure text, the user must either enclose the input in quotes, or the program must use
the <code class="docutils literal"><span class="pre">raw_input</span></code> function instead:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">name</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&#39;What is your name? &#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>There are other ways of providing input to a program as well, e.g.,
via a graphical interface (as many readers will be used to) or at the
command line (i.e., as parameters succeeding, on the same line, the
command that starts the program). Reading data from a file is yet
another way. Logically, what the program produces when run, e.g. a
plot or printout to the screen or a file, is referred to as <em>program
output</em>.</p>
</div>
<div class="section" id="symbolic-computations">
<h3>Symbolic computations<a class="headerlink" href="#symbolic-computations" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-140"></span><span class="target" id="index-141"></span><span class="target" id="index-142"></span><span class="target" id="index-143"></span><p id="index-144">Even though the main focus in this book is programming of <em>numerical</em>
methods, there are occasions where <em>symbolic</em> (also called <em>exact</em> or <em>analytical</em>)
operations are useful.
Doing symbolic computations means, as the name suggests, that we do
computations with the symbols themselves rather than with the
numerical values they could represent. Let us illustrate the
difference between symbolic and numerical computations with a little
example. A numerical computation could be</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span>
<span class="k">print</span> <span class="n">z</span>
</pre></div>
</div>
<p>which will make the number 6 appear on the screen.
A symbolic counterpart of this code could be</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s">&#39;x y&#39;</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span>
<span class="k">print</span> <span class="n">z</span>
</pre></div>
</div>
<p>which causes the <em>symbolic</em> result <code class="docutils literal"><span class="pre">x*y</span></code> to appear on the screen.
Note that no numerical value was assigned to any of the variables
in the symbolic computation. Only the symbols were used, as when
you do symbolic mathematics by hand on a piece of paper.</p>
<p>Symbolic computations in Python make use of the
<em>SymPy package</em>.
Each symbol is represented
by a standard variable, but the name of the symbol must be
declared with <code class="docutils literal"><span class="pre">Symbol(name)</span></code> for a single symbol, or <code class="docutils literal"><span class="pre">symbols(name1</span> <span class="pre">name2</span> <span class="pre">...)</span></code> for multiple symbols..
The following script
<a class="reference external" href="https://github.com/hplgit/prog4comp/tree/master/src/py/example_symbolic.py">example_symbolic.py</a>
is a quick demonstration
of some of the basic symbolic operations that are supported in Python.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>

<span class="k">print</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span>                <span class="c"># Algebraic computation</span>
<span class="k">print</span> <span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>                <span class="c"># Differentiates x**2 wrt. x</span>
<span class="k">print</span> <span class="n">integrate</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>         <span class="c"># Integrates cos(x) wrt. x</span>
<span class="k">print</span> <span class="n">simplify</span><span class="p">((</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="c"># Simplifies expression</span>
<span class="k">print</span> <span class="n">limit</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>        <span class="c"># Finds limit of sin(x)/x as x-&gt;0</span>
<span class="k">print</span> <span class="n">solve</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mi">15</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>           <span class="c"># Solves 5*x = 15</span>
</pre></div>
</div>
<p>Other symbolic calculations like Taylor series expansion, linear algebra (with matrix and vector operations), and (some) differential equation solving are also possible.</p>
<span class="target" id="index-145"></span><p id="index-146">Symbolic computations are also readily accessible through the (partly) free
online tool <a class="reference external" href="http://www.wolframalpha.com">WolframAlpha</a>, which
applies the very advanced <a class="reference external" href="http://en.wikipedia.org/wiki/Mathematica">Mathematica</a> package as symbolic engine.
The disadvantage with WolframAlpha compared to the
SymPy package is that the results cannot
automatically be imported into your code and used for further
analysis. On the other hand, WolframAlpha has the advantage that it
displays many additional mathematical results related to the given
problem. For example, if we type <code class="docutils literal"><span class="pre">2x</span> <span class="pre">+</span> <span class="pre">3x</span> <span class="pre">-</span> <span class="pre">y</span></code> in WolframAlpha, it
not only simplifies the expression to <code class="docutils literal"><span class="pre">5x</span> <span class="pre">-</span> <span class="pre">y</span></code>, but it also makes plots
of the function <span class="math">\(f(x,y)=5x-y\)</span>, solves the equation <span class="math">\(5x - y = 0\)</span>, and
calculates the integral <span class="math">\(\int\int(5x+y)dxdy\)</span>. The commercial Pro
version can also show a step-by-step of the analytical computations in
the problem. You are strongly encouraged to try out these commands in
WolframAlpha:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">diff(x^2,</span> <span class="pre">x)</span></code> or <code class="docutils literal"><span class="pre">diff(x**2,</span> <span class="pre">x)</span></code></li>
<li><code class="docutils literal"><span class="pre">integrate(cos(x),</span> <span class="pre">x)</span></code></li>
<li><code class="docutils literal"><span class="pre">simplify((x**2</span> <span class="pre">+</span> <span class="pre">x**3)/x**2)</span></code></li>
<li><code class="docutils literal"><span class="pre">limit(sin(x)/x,</span> <span class="pre">x,</span> <span class="pre">0)</span></code></li>
<li><code class="docutils literal"><span class="pre">solve(5*x</span> <span class="pre">-</span> <span class="pre">15,</span> <span class="pre">x)</span></code></li>
</ul>
</div></blockquote>
<p>WolframAlpha is very flexible with respect to syntax.</p>
<p id="index-147">Another impressive tool for symbolic computations is <a class="reference external" href="http://sagemath.org/">Sage</a>, which is a very comprehensive package with the
aim of &#8220;creating a viable free open source alternative to Magma,
Maple, Mathematica and Matlab&#8221;. Sage is implemented in Python.
Projects with extensive symbolic computations will certainly
benefit from exploring Sage.</p>
</div>
<div class="section" id="concluding-remarks">
<h3>Concluding remarks<a class="headerlink" href="#concluding-remarks" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-148"></span><span class="target" id="index-149"></span><span class="target" id="index-150"></span><span class="target" id="index-151"></span><span class="target" id="index-152"></span><div class="admonition-programming-demands-you-to-be-accurate admonition" id="index-153">
<p class="first admonition-title">Programming demands you to be accurate</p>
<p class="last">In this chapter, you have seen some examples of how simple things may
be done in Python. Hopefully, you have tried to do the examples on
your own. If you have, most certainly you have discovered that what
you write in the code has to be <em>very accurate</em>. For example, with our
previous example of four heights collected in an array <code class="docutils literal"><span class="pre">h</span></code>, writing
<code class="docutils literal"><span class="pre">h(0)</span></code> instead of <code class="docutils literal"><span class="pre">h[0]</span></code>
gives an error, even if you and I know
perfectly well what you mean! Remember that it is not a human that
runs your code, it is a machine. Therefore, even if the meaning of
your code looks fine to a human eye, it still has to comply in detail
to the rules of the programming language. If not, you get warnings and
error messages. This also goes for lower and upper case letters.
If you do <code class="docutils literal"><span class="pre">from</span> <span class="pre">math</span> <span class="pre">import</span> <span class="pre">*</span></code> and give the command <code class="docutils literal"><span class="pre">pi</span></code>, you get
<span class="math">\(3.1415\ldots\)</span>. However, if you write <code class="docutils literal"><span class="pre">Pi</span></code>, you get an error
message.
Pay attention to such details also when they are given in later chapters.</p>
</div>
<div class="admonition-remember-to-insert-comments-to-explain-your-code admonition">
<p class="first admonition-title">Remember to insert comments to explain your code</p>
<p class="last">When you write a computer program, you have two very
different kinds of readers. One is Python, which will interpret and
run your program according to the rules. The other is some
human, for example, yourself or a peer. It is very
important to organize and comment the code so that you can go back to
your own code after, e.g., a year and still understand what clever
constructions you put in there. This is relevant when you need to change or
extend your code (which usually happens often in reality). Organized
coding and good commenting is even more critical if other people are
supposed to understand code that you have written.</p>
</div>
<div class="admonition-fast-code-versus-readable-and-correct-code admonition">
<p class="first admonition-title">Fast code versus readable and correct code</p>
<p class="last">Numerical computing has a strong tradition in paying much attention to
creating <em>fast code</em>. Real industrial applications of numerical computing
often involves simulations that run for hours, days, and even weeks.
Fast code is tremendously important in those cases. The problem with
a strong focus on fast code, unfortunately, is sometimes that clear
and easily understandable constructions are replaced by clever and
less readable, but faster code. However, for beginners it is most
important to learn to write readable and correct code. We will
make some comments on constructions that are fast or slow, but the
main focus of this book is to teach how to write correct programs,
not the fastest possible programs.</p>
</div>
<div class="admonition-deleting-data-no-longer-in-use admonition">
<p class="first admonition-title">Deleting data no longer in use</p>
<p class="last">Python has <em>automatic garbage collection</em>, meaning that there is no
need to delete variables (or objects) that are no longer in
use. Python takes care of this by itself. This is opposed to, e.g.,
Matlab, where explicit deleting sometimes may be required.</p>
</div>
<div class="admonition-tip-how-to-deal-with-long-lines admonition">
<p class="first admonition-title">Tip: how to deal with long lines</p>
<p class="last">If a statement in a program gets too long, it may be continued on
the next line by inserting a back-slash at the end of the line before
proceeding on the next line. However, <em>no blanks</em> must occur after
the back-slash!</p>
</div>
<p>The present introductory book just provides a tiny bit of all the
functionality that Python has to offer. An important source of
information is the
official Python documentation website
(<a class="reference external" href="http://docs.python.org/">http://docs.python.org/</a>), which provides a Python tutorial, the
<em>Python Library Reference</em>, a <em>Language Reference</em>, and more. Several
excellent books are also available
(<a class="reference external" href="http://wiki.python.org/moin/PythonBooks">http://wiki.python.org/moin/PythonBooks</a>), e.g., Hans Petter
Langtangen&#8217;s comprehensive book <em>A Primer on Scientific Programming
with Python</em>, Springer, 2014.</p>
</div>
</div>
<div class="section" id="exercises-1">
<h2>Exercises<a class="headerlink" href="#exercises-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="exercise-1-error-messages">
<span id="st-exer-errormessages"></span><h3>Exercise 1: Error messages<a class="headerlink" href="#exercise-1-error-messages" title="Permalink to this headline">¶</a></h3>
<p>Save a copy of the program <code class="docutils literal"><span class="pre">ball.py</span></code> and confirm that the copy runs as the
original. You are now supposed to introduce errors in the code, one by
one. For each error introduced, save and run the program, and comment
how well Python&#8217;s response corresponds to the actual error. When you
are finished with one error, re-set the program to correct behavior
(and check that it works!) before moving on to the next error.</p>
<p><strong>a)</strong>
Insert the word <em>hello</em> on the empty line above the assignment to <code class="docutils literal"><span class="pre">v0</span></code>.</p>
<p><strong>Solution.</strong>
An error message is printed, which at the end states that</p>
<div class="highlight-text"><div class="highlight"><pre>NameError: name &#39;hello&#39; is not defined
</pre></div>
</div>
<p>The error message tells us explicitly what is wrong.</p>
<p><strong>b)</strong>
Remove the <code class="docutils literal"><span class="pre">#</span></code> sign in front of the
comment <em>initial velocity</em>.</p>
<p><strong>Solution.</strong>
An error message is printed, which states that</p>
<div class="highlight-text"><div class="highlight"><pre>    v0 = 5   initial velocity
SyntaxError: invalid syntax
</pre></div>
</div>
<p>Python repeats the particular code line
where the problem is. Then, it tells us that there
is a syntax error in this line. It is up to the programmer
to find the syntax error in the line.</p>
<p><strong>c)</strong>
Remove the <code class="docutils literal"><span class="pre">=</span></code> sign in the assignment to <code class="docutils literal"><span class="pre">v0</span></code>.</p>
<p><strong>Solution.</strong>
An error message is printed, which at the end states that</p>
<div class="highlight-text"><div class="highlight"><pre>    v0  5   #initial velocity
SyntaxError: invalid syntax
</pre></div>
</div>
<p>Python repeats the particular code line
where the problem is. Then, it tells us that there
is a syntax error in this line. It is up to the programmer
to find the syntax error in the line.</p>
<p><strong>d)</strong>
Change the reserved word <code class="docutils literal"><span class="pre">print</span></code> into <code class="docutils literal"><span class="pre">pint</span></code>.</p>
<p><strong>Solution.</strong>
An error message is printed, which at the end states that</p>
<div class="highlight-text"><div class="highlight"><pre>    pint y
SyntaxError: invalid syntax
</pre></div>
</div>
<p>Python repeats the particular code line
where the problem is. Then, it tells us that there
is a syntax error in this line. It is up to the programmer
to find the syntax error in the line.</p>
<p><strong>e)</strong>
Change the calculation of <code class="docutils literal"><span class="pre">y</span></code> to <code class="docutils literal"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">v0*t</span></code>.</p>
<p><strong>Solution.</strong>
We get no error message this time, even if the calculation of <code class="docutils literal"><span class="pre">y</span></code>
is wrong! This is because, to Python, the &#8220;new&#8221; way of calculating
<code class="docutils literal"><span class="pre">y</span></code> is perfectly legal, and Python can not know what we wanted to
compute. This is therefore another kind of error that sometimes may
be hard to find, since we get no error message. To find such errors,
answers have to be analyzed quantitatively in some way.</p>
<p><strong>f)</strong>
Change the line <code class="docutils literal"><span class="pre">print</span> <span class="pre">y</span></code> to <code class="docutils literal"><span class="pre">print</span> <span class="pre">x</span></code>.</p>
<p><strong>Solution.</strong>
An error message is printed, which at the end states that</p>
<div class="highlight-text"><div class="highlight"><pre>    print x
NameError: name &#39;x&#39; is not defined
</pre></div>
</div>
<p>Python repeats the particular code line
where the problem is. Then, it explicitly tells us the problem,
namely that <code class="docutils literal"><span class="pre">x</span></code> is not defined.</p>
<p><strong>g)</strong>
Replace the statement</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">y</span> <span class="o">=</span> <span class="n">v0</span><span class="o">*</span><span class="n">t</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">g</span><span class="o">*</span><span class="n">t</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>by</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">y</span> <span class="o">=</span> <span class="n">v0</span><span class="o">*</span><span class="n">t</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">g</span><span class="o">*</span><span class="n">t</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p><strong>Solution.</strong>
We get no error message, but the wrong answer <code class="docutils literal"><span class="pre">3</span></code> (instead of <code class="docutils literal"><span class="pre">1.2342</span></code>).
The problem is that <code class="docutils literal"><span class="pre">1/2</span></code> is an integer divison that rounds to zero, so
the computation now becomes equivalent to <code class="docutils literal"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">v0*t</span></code>, which is wrong.</p>
<p>Filename: <code class="docutils literal"><span class="pre">testing_ball.py</span></code>.</p>
</div>
<div class="section" id="exercise-2-volume-of-a-cube">
<span id="st-exer-cubevolume"></span><h3>Exercise 2: Volume of a cube<a class="headerlink" href="#exercise-2-volume-of-a-cube" title="Permalink to this headline">¶</a></h3>
<p>Write a program that computes the volume <span class="math">\(V\)</span> of a cube with sides of
length <span class="math">\(L = 4\)</span> cm and prints the result to the screen. Both <span class="math">\(V\)</span> and <span class="math">\(L\)</span>
should be defined as separate variables in the program. Run the
program and confirm that the correct result is printed.</p>
<p><strong>Hint.</strong>
See <code class="docutils literal"><span class="pre">ball.py</span></code> in the text.</p>
<p><strong>Solution.</strong>
The code reads:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">L</span> <span class="o">=</span> <span class="mi">4</span>       <span class="c"># i.e., in cm</span>
<span class="n">V</span> <span class="o">=</span> <span class="n">L</span><span class="o">**</span><span class="mi">3</span>
<span class="k">print</span> <span class="s">&quot;The volume is: &quot;</span><span class="p">,</span> <span class="n">V</span>
</pre></div>
</div>
<p>Running the program gives the output</p>
<div class="highlight-text"><div class="highlight"><pre>The volume is: 64
</pre></div>
</div>
<p>Filename: <code class="docutils literal"><span class="pre">cube_volume.py</span></code>.</p>
</div>
<div class="section" id="exercise-3-area-and-circumference-of-a-circle">
<span id="st-exer-areacircle"></span><h3>Exercise 3: Area and circumference of a circle<a class="headerlink" href="#exercise-3-area-and-circumference-of-a-circle" title="Permalink to this headline">¶</a></h3>
<p>Write a program that computes both the circumference <span class="math">\(C\)</span> and the area
<span class="math">\(A\)</span> of a circle with radius <span class="math">\(r = 2\)</span> cm. Let the results be printed to
the screen on a single line with an appropriate text. The variables
<span class="math">\(C\)</span>, <span class="math">\(A\)</span> and <span class="math">\(r\)</span> should all be defined as a separate variables in the
program. Run the program and confirm that the correct results are
printed.</p>
<p><strong>Solution.</strong>
The code reads:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">r</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">C</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">r</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">pi</span><span class="o">*</span><span class="n">r</span><span class="o">**</span><span class="mi">2</span>

<span class="k">print</span> <span class="s">&quot;Circumference: </span><span class="si">%g</span><span class="s">, Area: </span><span class="si">%g</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
</pre></div>
</div>
<p>Running the program gives the output</p>
<div class="highlight-text"><div class="highlight"><pre>Circumference: 12.5664, Area: 12.5664
</pre></div>
</div>
<p>Filename: <code class="docutils literal"><span class="pre">circumference_and_area.py</span></code>.</p>
</div>
<div class="section" id="exercise-4-volumes-of-three-cubes">
<span id="st-exer-volumes3cubes"></span><h3>Exercise 4: Volumes of three cubes<a class="headerlink" href="#exercise-4-volumes-of-three-cubes" title="Permalink to this headline">¶</a></h3>
<p>We are interested in the volume <span class="math">\(V\)</span> of a cube with length <span class="math">\(L\)</span>: <span class="math">\(V=L^3\)</span>,
computed for three different values of <span class="math">\(L\)</span>.</p>
<p><strong>a)</strong>
Use the <code class="docutils literal"><span class="pre">linspace</span></code> function to compute three values
of <span class="math">\(L\)</span>, equally spaced on the interval <span class="math">\([1,3]\)</span>.</p>
<p><strong>Solution.</strong>
We must remember to import the function <code class="docutils literal"><span class="pre">linspace</span></code> before we can use it.</p>
<div class="highlight-ipy"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">linspace</span>
<span class="gp">In [2]: </span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">Out [2]: array([1., 2., 3.])</span>
</pre></div>
</div>
<p><strong>b)</strong>
Carry out by hand the computation <span class="math">\(V=L^3\)</span> if <span class="math">\(L\)</span> is an array with
three elements. That is, compute <span class="math">\(V\)</span> for each value of <span class="math">\(L\)</span>.</p>
<p><strong>Solution.</strong>
You should get 1, 8 and 27, which afterwards should compare favorably to
output from the code.</p>
<p><strong>c)</strong>
In a program, write out the result <code class="docutils literal"><span class="pre">V</span></code> of <code class="docutils literal"><span class="pre">V</span> <span class="pre">=</span> <span class="pre">L**3</span></code>
when <code class="docutils literal"><span class="pre">L</span></code> is an array with three elements as computed by <code class="docutils literal"><span class="pre">linspace</span></code> in a).
Compare the resulting volumes with your hand calculations.</p>
<p><strong>Solution.</strong>
The code reads:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">L</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">V</span> <span class="o">=</span> <span class="n">L</span><span class="o">**</span><span class="mi">3</span>
<span class="k">print</span> <span class="s">&quot;Volumes:&quot;</span><span class="p">,</span> <span class="n">V</span>
</pre></div>
</div>
<p>Running the program gives the printout</p>
<div class="highlight-text"><div class="highlight"><pre>Volumes: [ 1. 8. 27. ]
</pre></div>
</div>
<p><strong>d)</strong>
Make a plot of <code class="docutils literal"><span class="pre">V</span></code> versus <code class="docutils literal"><span class="pre">L</span></code>.</p>
<p><strong>Solution.</strong>
The code reads:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">plot</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">V</span><span class="p">)</span>
<span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Length of side&#39;</span><span class="p">)</span>
<span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Volume&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The plot looks like</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/volume3cubes"><img alt="_images/volume3cubes" src="_images/volume3cubes" style="width: 400px;" /></a>
</div>
<p><strong>Remark.</strong>
Observe that straight lines are drawn between the
three points. To make a smoother cubic curve <span class="math">\(V=L^3\)</span>, we would need to
compute more <span class="math">\(L\)</span> and <span class="math">\(V\)</span> values on the curve.</p>
<p>Filename: <code class="docutils literal"><span class="pre">volume3cubes.py</span></code>.</p>
</div>
<div class="section" id="exercise-5-average-of-integers">
<span id="st-exer-averageof5integers"></span><h3>Exercise 5: Average of integers<a class="headerlink" href="#exercise-5-average-of-integers" title="Permalink to this headline">¶</a></h3>
<p>Write a program that stores the sum <span class="math">\(1+2+3+4+5\)</span> in one variable and
then creates another variable with the average of these five numbers.
Print the average to the screen and check that the result is correct.</p>
<p><strong>Solution.</strong>
The code reads:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">sum</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">5</span>
<span class="n">average</span> <span class="o">=</span> <span class="nb">sum</span><span class="o">/</span><span class="mf">5.0</span>
<span class="k">print</span> <span class="s">&quot;average: &quot;</span><span class="p">,</span> <span class="n">average</span>
</pre></div>
</div>
<p>Running the program gives</p>
<div class="highlight-text"><div class="highlight"><pre>average: 3.0
</pre></div>
</div>
<p>Filename: <code class="docutils literal"><span class="pre">average_int.py</span></code>.</p>
</div>
<div class="section" id="exercise-6-interactive-computing-of-volume-and-area">
<span id="st-exer-cubevolinteractively"></span><h3>Exercise 6: Interactive computing of volume and area<a class="headerlink" href="#exercise-6-interactive-computing-of-volume-and-area" title="Permalink to this headline">¶</a></h3>
<p><strong>a)</strong>
Compute the volume in <a class="reference internal" href="#st-exer-cubevolume"><span class="std std-ref">Exercise 2: Volume of a cube</span></a> by using
Python interactively, i.e., do the computations at the command
prompt (in a Python shell as we also say).
Compare with what you got previously from the written program.</p>
<p><strong>Solution.</strong></p>
<div class="highlight-ipy"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">L</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">In [2]: </span><span class="n">V</span> <span class="o">=</span> <span class="n">L</span><span class="o">**</span><span class="mi">3</span>
<span class="gp">In [3]: </span><span class="k">print</span> <span class="s">&quot;The volume is: &quot;</span><span class="p">,</span> <span class="n">V</span>
<span class="go">The volume is: 64</span>
</pre></div>
</div>
<p><strong>b)</strong>
Do the same also for <a class="reference internal" href="#st-exer-areacircle"><span class="std std-ref">Exercise 3: Area and circumference of a circle</span></a>.</p>
<p><strong>Solution.</strong></p>
<div class="highlight-ipy"><div class="highlight"><pre><span class="go">from math import *</span>
<span class="gp">In [1]: </span><span class="n">r</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">In [2]: </span><span class="n">C</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">r</span>
<span class="gp">In [3]: </span><span class="n">A</span> <span class="o">=</span> <span class="n">pi</span><span class="o">*</span><span class="n">r</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">In [4]: </span><span class="k">print</span> <span class="s">&quot;Circumference: </span><span class="si">%g</span><span class="s">, Area: </span><span class="si">%g</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">A</span><span class="p">)</span>
<span class="go">Circumference: 12.5664, Area: 12.5664</span>
</pre></div>
</div>
</div>
<div class="section" id="exercise-7-peculiar-results-from-division">
<span id="st-exer-intdivinteractively"></span><h3>Exercise 7: Peculiar results from division<a class="headerlink" href="#exercise-7-peculiar-results-from-division" title="Permalink to this headline">¶</a></h3>
<p>Consider the following interactive Python session:</p>
<div class="highlight-ipy"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span>

<span class="gp">In [2]: </span><span class="n">x</span><span class="o">/</span><span class="n">y</span>
<span class="gh">Out[2]: </span><span class="go">0</span>
</pre></div>
</div>
<p>What is the problem and how can you fix it?</p>
<p><strong>Solution.</strong>
Because of integer division Python will round this to zero
(since the numerator is smaller than the denominator). The problem
may be fixed by using the function <code class="docutils literal"><span class="pre">float</span></code> either in the numerator or
in the denominator (or in both places). If we use <code class="docutils literal"><span class="pre">float</span></code> in the numerator,
the code line with the division reads:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">y</span>
</pre></div>
</div>
<p>The answer then correctly becomes <span class="math">\(0.5\)</span>.</p>
</div>
<div class="section" id="exercise-8-update-variable-at-command-prompt">
<span id="st-exer-updatevarinteractively"></span><h3>Exercise 8: Update variable at command prompt<a class="headerlink" href="#exercise-8-update-variable-at-command-prompt" title="Permalink to this headline">¶</a></h3>
<p>Invoke Python interactively and perform the following steps.</p>
<ol class="arabic simple">
<li>Initialize a variable <code class="docutils literal"><span class="pre">x</span></code> to 2.</li>
<li>Add 3 to <code class="docutils literal"><span class="pre">x</span></code>. Print out the result.</li>
<li>Print out the result of <code class="docutils literal"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">1*2</span></code> and <code class="docutils literal"><span class="pre">(x+1)*2</span></code>.
(Observe how parentheses make a difference).</li>
<li>What variable <em>type</em> is <code class="docutils literal"><span class="pre">x</span></code>?</li>
</ol>
<p><strong>Solution.</strong></p>
<div class="highlight-ipy"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">In [2]: </span><span class="n">x</span> <span class="o">+=</span> <span class="mi">3</span>
<span class="gp">In [3]: </span><span class="k">print</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">*</span><span class="mi">2</span>
<span class="go">7</span>
<span class="gp">In [4]: </span><span class="k">print</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span>
<span class="go">12</span>
<span class="gp">In [5]: </span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">Out [5]: int</span>
</pre></div>
</div>
</div>
<div class="section" id="exercise-9-formatted-print-to-screen">
<span id="st-exer-printfscreen"></span><h3>Exercise 9: Formatted print to screen<a class="headerlink" href="#exercise-9-formatted-print-to-screen" title="Permalink to this headline">¶</a></h3>
<p>Write a program that defines two variables as <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">pi</span></code> and <code class="docutils literal"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">2</span></code>.
Then let the program compute the product <code class="docutils literal"><span class="pre">z</span></code> of these two variables
and print the result to the screen as</p>
<div class="highlight-text"><div class="highlight"><pre>Multiplying 3.14159 and 2 gives 6.283
</pre></div>
</div>
<p><strong>Solution.</strong>
The code reads:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">pi</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span>

<span class="k">print</span> <span class="s">&quot;Multiplying </span><span class="si">%g</span><span class="s"> and </span><span class="si">%g</span><span class="s"> gives </span><span class="si">%g</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>Running the program prints the requested output.</p>
<p>Filename: <code class="docutils literal"><span class="pre">formatted_print.py</span></code>.</p>
</div>
<div class="section" id="exercise-10-python-documentation-and-random-numbers">
<span id="st-exer-pythondocrandom"></span><h3>Exercise 10: Python documentation and random numbers<a class="headerlink" href="#exercise-10-python-documentation-and-random-numbers" title="Permalink to this headline">¶</a></h3>
<p>Write a program that prints four random to the screen.
The numbers should be drawn from a
uniform distribution over the interval <span class="math">\([0,10)\)</span> (0 inclusive, 10 exclusive).
Find the information needed for the task,
see for example
<a class="reference external" href="http://docs.python.org">http://docs.python.org</a>.</p>
<p><strong>Hint.</strong>
Python has a module <code class="docutils literal"><span class="pre">random</span></code> that contains a function by the name <code class="docutils literal"><span class="pre">uniform</span></code>.</p>
<p><strong>Solution.</strong>
The code reads:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>
<span class="k">print</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="k">print</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="k">print</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="k">print</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>Running the program gives for example (note that numbers
change when you run the program again)</p>
<div class="highlight-text"><div class="highlight"><pre>7.04892469523
4.64465984386
8.46022195385
0.458184395321
</pre></div>
</div>
<p>Filename: <code class="docutils literal"><span class="pre">drawing_random_numbers.py</span></code>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <center>
            <p class="logo"><a href="http://cbc.simula.no/" title="Go to Center for Biomedical Computing">
              <img class="logo" src="_static/cbc_logo.png" alt="Logo"/>
            </a></p>
            </center>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The first few steps</a><ul>
<li><a class="reference internal" href="#what-is-a-program-and-what-is-programming">What is a program? And what is programming?</a></li>
<li><a class="reference internal" href="#a-python-program-with-variables">A Python program with variables</a><ul>
<li><a class="reference internal" href="#the-program">The program</a></li>
<li><a class="reference internal" href="#dissection-of-the-program">Dissection of the program</a></li>
<li><a class="reference internal" href="#why-not-just-use-a-pocket-calculator">Why not just use a pocket calculator?</a></li>
<li><a class="reference internal" href="#the-importance-of-using-a-text-editor-to-write-programs">The importance of using a text editor to write programs</a></li>
<li><a class="reference internal" href="#installation-of-python">Installation of Python</a></li>
<li><a class="reference internal" href="#write-and-run-your-first-program">Write and run your first program</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a-python-program-with-a-library-function">A Python program with a library function</a></li>
<li><a class="reference internal" href="#a-python-program-with-vectorization-and-plotting">A Python program with vectorization and plotting</a></li>
<li><a class="reference internal" href="#more-basic-concepts">More basic concepts</a><ul>
<li><a class="reference internal" href="#using-python-interactively">Using Python interactively</a></li>
<li><a class="reference internal" href="#arithmetics-parentheses-and-rounding-errors">Arithmetics, parentheses and rounding errors</a></li>
<li><a class="reference internal" href="#variables-and-objects">Variables and objects</a></li>
<li><a class="reference internal" href="#integer-division">Integer division</a></li>
<li><a class="reference internal" href="#formatting-text-and-numbers">Formatting text and numbers</a></li>
<li><a class="reference internal" href="#arrays">Arrays</a></li>
<li><a class="reference internal" href="#plotting">Plotting</a></li>
<li><a class="reference internal" href="#error-messages-and-warnings">Error messages and warnings</a></li>
<li><a class="reference internal" href="#input-data">Input data</a></li>
<li><a class="reference internal" href="#symbolic-computations">Symbolic computations</a></li>
<li><a class="reference internal" href="#concluding-remarks">Concluding remarks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exercises-1">Exercises</a><ul>
<li><a class="reference internal" href="#exercise-1-error-messages">Exercise 1: Error messages</a></li>
<li><a class="reference internal" href="#exercise-2-volume-of-a-cube">Exercise 2: Volume of a cube</a></li>
<li><a class="reference internal" href="#exercise-3-area-and-circumference-of-a-circle">Exercise 3: Area and circumference of a circle</a></li>
<li><a class="reference internal" href="#exercise-4-volumes-of-three-cubes">Exercise 4: Volumes of three cubes</a></li>
<li><a class="reference internal" href="#exercise-5-average-of-integers">Exercise 5: Average of integers</a></li>
<li><a class="reference internal" href="#exercise-6-interactive-computing-of-volume-and-area">Exercise 6: Interactive computing of volume and area</a></li>
<li><a class="reference internal" href="#exercise-7-peculiar-results-from-division">Exercise 7: Peculiar results from division</a></li>
<li><a class="reference internal" href="#exercise-8-update-variable-at-command-prompt">Exercise 8: Update variable at command prompt</a></li>
<li><a class="reference internal" href="#exercise-9-formatted-print-to-screen">Exercise 9: Formatted print to screen</a></li>
<li><a class="reference internal" href="#exercise-10-python-documentation-and-random-numbers">Exercise 10: Python documentation and random numbers</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="._pylight001.html"
                        title="previous chapter">Preface</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="._pylight003.html"
                        title="next chapter">Basic constructions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/._pylight002.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="._pylight003.html" title="Basic constructions"
             >next</a> |</li>
        <li class="right" >
          <a href="._pylight001.html" title="Preface"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Programming for Computations (Python version)</a> &raquo;</li> 
      </ul>
    </div>
<div class="wrapper">
  <div class="footer">
    <a href="http://cbc.simula.no"><img src="_static/cbc_banner.png" width="100%"><a>
    <br />
    <br />
      &copy;2015, Svein Linge and Hans Petter Langtangen.
  </div>
</div>

  </body>
</html>